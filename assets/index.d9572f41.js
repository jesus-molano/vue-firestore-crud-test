const kf=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}};kf();function Oo(e,t){const n=Object.create(null),s=e.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const Mf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Lf=Oo(Mf);function Cc(e){return!!e||e===""}function Po(e){if(q(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=Be(s)?Uf(s):Po(s);if(r)for(const i in r)t[i]=r[i]}return t}else{if(Be(e))return e;if(Ue(e))return e}}const Ff=/;(?![^(]*\))/g,Bf=/:(.+)/;function Uf(e){const t={};return e.split(Ff).forEach(n=>{if(n){const s=n.split(Bf);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function ko(e){let t="";if(Be(e))t=e;else if(q(e))for(let n=0;n<e.length;n++){const s=ko(e[n]);s&&(t+=s+" ")}else if(Ue(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ue={},In=[],ft=()=>{},Vf=()=>!1,$f=/^on[^a-z]/,Ur=e=>$f.test(e),Mo=e=>e.startsWith("onUpdate:"),Fe=Object.assign,Lo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},jf=Object.prototype.hasOwnProperty,J=(e,t)=>jf.call(e,t),q=Array.isArray,rs=e=>Vr(e)==="[object Map]",Hf=e=>Vr(e)==="[object Set]",z=e=>typeof e=="function",Be=e=>typeof e=="string",Fo=e=>typeof e=="symbol",Ue=e=>e!==null&&typeof e=="object",Ic=e=>Ue(e)&&z(e.then)&&z(e.catch),Kf=Object.prototype.toString,Vr=e=>Kf.call(e),qf=e=>Vr(e).slice(8,-1),zf=e=>Vr(e)==="[object Object]",Bo=e=>Be(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,lr=Oo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$r=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Gf=/-(\w)/g,On=$r(e=>e.replace(Gf,(t,n)=>n?n.toUpperCase():"")),Wf=/\B([A-Z])/g,jn=$r(e=>e.replace(Wf,"-$1").toLowerCase()),Sc=$r(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ti=$r(e=>e?`on${Sc(e)}`:""),ps=(e,t)=>!Object.is(e,t),Ai=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},pr=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Xf=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ka;const Yf=()=>Ka||(Ka=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let mt;class Rc{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&mt&&(this.parent=mt,this.index=(mt.scopes||(mt.scopes=[])).push(this)-1)}run(t){if(this.active){const n=mt;try{return mt=this,t()}finally{mt=n}}}on(){mt=this}off(){mt=this.parent}stop(t){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function Qf(e){return new Rc(e)}function Jf(e,t=mt){t&&t.active&&t.effects.push(e)}const Uo=e=>{const t=new Set(e);return t.w=0,t.n=0,t},xc=e=>(e.w&jt)>0,Nc=e=>(e.n&jt)>0,Zf=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=jt},ed=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const r=t[s];xc(r)&&!Nc(r)?r.delete(e):t[n++]=r,r.w&=~jt,r.n&=~jt}t.length=n}},Ki=new WeakMap;let es=0,jt=1;const qi=30;let ht;const en=Symbol(""),zi=Symbol("");class Vo{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Jf(this,s)}run(){if(!this.active)return this.fn();let t=ht,n=Bt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=ht,ht=this,Bt=!0,jt=1<<++es,es<=qi?Zf(this):qa(this),this.fn()}finally{es<=qi&&ed(this),jt=1<<--es,ht=this.parent,Bt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ht===this?this.deferStop=!0:this.active&&(qa(this),this.onStop&&this.onStop(),this.active=!1)}}function qa(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Bt=!0;const Dc=[];function Hn(){Dc.push(Bt),Bt=!1}function Kn(){const e=Dc.pop();Bt=e===void 0?!0:e}function nt(e,t,n){if(Bt&&ht){let s=Ki.get(e);s||Ki.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=Uo()),Oc(r)}}function Oc(e,t){let n=!1;es<=qi?Nc(e)||(e.n|=jt,n=!xc(e)):n=!e.has(ht),n&&(e.add(ht),ht.deps.push(e))}function St(e,t,n,s,r,i){const o=Ki.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&q(e))o.forEach((l,c)=>{(c==="length"||c>=s)&&a.push(l)});else switch(n!==void 0&&a.push(o.get(n)),t){case"add":q(e)?Bo(n)&&a.push(o.get("length")):(a.push(o.get(en)),rs(e)&&a.push(o.get(zi)));break;case"delete":q(e)||(a.push(o.get(en)),rs(e)&&a.push(o.get(zi)));break;case"set":rs(e)&&a.push(o.get(en));break}if(a.length===1)a[0]&&Gi(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Gi(Uo(l))}}function Gi(e,t){for(const n of q(e)?e:[...e])(n!==ht||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const td=Oo("__proto__,__v_isRef,__isVue"),Pc=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Fo)),nd=$o(),sd=$o(!1,!0),rd=$o(!0),za=id();function id(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=te(this);for(let i=0,o=this.length;i<o;i++)nt(s,"get",i+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(te)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Hn();const s=te(this)[t].apply(this,n);return Kn(),s}}),e}function $o(e=!1,t=!1){return function(s,r,i){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&i===(e?t?bd:Bc:t?Fc:Lc).get(s))return s;const o=q(s);if(!e&&o&&J(za,r))return Reflect.get(za,r,i);const a=Reflect.get(s,r,i);return(Fo(r)?Pc.has(r):td(r))||(e||nt(s,"get",r),t)?a:De(a)?!o||!Bo(r)?a.value:a:Ue(a)?e?Uc(a):Ls(a):a}}const od=kc(),ad=kc(!0);function kc(e=!1){return function(n,s,r,i){let o=n[s];if(gs(o)&&De(o)&&!De(r))return!1;if(!e&&!gs(r)&&(Vc(r)||(r=te(r),o=te(o)),!q(n)&&De(o)&&!De(r)))return o.value=r,!0;const a=q(n)&&Bo(s)?Number(s)<n.length:J(n,s),l=Reflect.set(n,s,r,i);return n===te(i)&&(a?ps(r,o)&&St(n,"set",s,r):St(n,"add",s,r)),l}}function ld(e,t){const n=J(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&n&&St(e,"delete",t,void 0),s}function cd(e,t){const n=Reflect.has(e,t);return(!Fo(t)||!Pc.has(t))&&nt(e,"has",t),n}function ud(e){return nt(e,"iterate",q(e)?"length":en),Reflect.ownKeys(e)}const Mc={get:nd,set:od,deleteProperty:ld,has:cd,ownKeys:ud},hd={get:rd,set(e,t){return!0},deleteProperty(e,t){return!0}},fd=Fe({},Mc,{get:sd,set:ad}),jo=e=>e,jr=e=>Reflect.getPrototypeOf(e);function Js(e,t,n=!1,s=!1){e=e.__v_raw;const r=te(e),i=te(t);t!==i&&!n&&nt(r,"get",t),!n&&nt(r,"get",i);const{has:o}=jr(r),a=s?jo:n?zo:ms;if(o.call(r,t))return a(e.get(t));if(o.call(r,i))return a(e.get(i));e!==r&&e.get(t)}function Zs(e,t=!1){const n=this.__v_raw,s=te(n),r=te(e);return e!==r&&!t&&nt(s,"has",e),!t&&nt(s,"has",r),e===r?n.has(e):n.has(e)||n.has(r)}function er(e,t=!1){return e=e.__v_raw,!t&&nt(te(e),"iterate",en),Reflect.get(e,"size",e)}function Ga(e){e=te(e);const t=te(this);return jr(t).has.call(t,e)||(t.add(e),St(t,"add",e,e)),this}function Wa(e,t){t=te(t);const n=te(this),{has:s,get:r}=jr(n);let i=s.call(n,e);i||(e=te(e),i=s.call(n,e));const o=r.call(n,e);return n.set(e,t),i?ps(t,o)&&St(n,"set",e,t):St(n,"add",e,t),this}function Xa(e){const t=te(this),{has:n,get:s}=jr(t);let r=n.call(t,e);r||(e=te(e),r=n.call(t,e)),s&&s.call(t,e);const i=t.delete(e);return r&&St(t,"delete",e,void 0),i}function Ya(){const e=te(this),t=e.size!==0,n=e.clear();return t&&St(e,"clear",void 0,void 0),n}function tr(e,t){return function(s,r){const i=this,o=i.__v_raw,a=te(o),l=t?jo:e?zo:ms;return!e&&nt(a,"iterate",en),o.forEach((c,u)=>s.call(r,l(c),l(u),i))}}function nr(e,t,n){return function(...s){const r=this.__v_raw,i=te(r),o=rs(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...s),u=n?jo:t?zo:ms;return!t&&nt(i,"iterate",l?zi:en),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Ot(e){return function(...t){return e==="delete"?!1:this}}function dd(){const e={get(i){return Js(this,i)},get size(){return er(this)},has:Zs,add:Ga,set:Wa,delete:Xa,clear:Ya,forEach:tr(!1,!1)},t={get(i){return Js(this,i,!1,!0)},get size(){return er(this)},has:Zs,add:Ga,set:Wa,delete:Xa,clear:Ya,forEach:tr(!1,!0)},n={get(i){return Js(this,i,!0)},get size(){return er(this,!0)},has(i){return Zs.call(this,i,!0)},add:Ot("add"),set:Ot("set"),delete:Ot("delete"),clear:Ot("clear"),forEach:tr(!0,!1)},s={get(i){return Js(this,i,!0,!0)},get size(){return er(this,!0)},has(i){return Zs.call(this,i,!0)},add:Ot("add"),set:Ot("set"),delete:Ot("delete"),clear:Ot("clear"),forEach:tr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=nr(i,!1,!1),n[i]=nr(i,!0,!1),t[i]=nr(i,!1,!0),s[i]=nr(i,!0,!0)}),[e,n,t,s]}const[pd,gd,md,yd]=dd();function Ho(e,t){const n=t?e?yd:md:e?gd:pd;return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(J(n,r)&&r in s?n:s,r,i)}const vd={get:Ho(!1,!1)},wd={get:Ho(!1,!0)},Ed={get:Ho(!0,!1)},Lc=new WeakMap,Fc=new WeakMap,Bc=new WeakMap,bd=new WeakMap;function _d(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Td(e){return e.__v_skip||!Object.isExtensible(e)?0:_d(qf(e))}function Ls(e){return gs(e)?e:Ko(e,!1,Mc,vd,Lc)}function Ad(e){return Ko(e,!1,fd,wd,Fc)}function Uc(e){return Ko(e,!0,hd,Ed,Bc)}function Ko(e,t,n,s,r){if(!Ue(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=Td(e);if(o===0)return e;const a=new Proxy(e,o===2?s:n);return r.set(e,a),a}function Sn(e){return gs(e)?Sn(e.__v_raw):!!(e&&e.__v_isReactive)}function gs(e){return!!(e&&e.__v_isReadonly)}function Vc(e){return!!(e&&e.__v_isShallow)}function $c(e){return Sn(e)||gs(e)}function te(e){const t=e&&e.__v_raw;return t?te(t):e}function qo(e){return pr(e,"__v_skip",!0),e}const ms=e=>Ue(e)?Ls(e):e,zo=e=>Ue(e)?Uc(e):e;function jc(e){Bt&&ht&&(e=te(e),Oc(e.dep||(e.dep=Uo())))}function Hc(e,t){e=te(e),e.dep&&Gi(e.dep)}function De(e){return!!(e&&e.__v_isRef===!0)}function Go(e){return Kc(e,!1)}function Cd(e){return Kc(e,!0)}function Kc(e,t){return De(e)?e:new Id(e,t)}class Id{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:te(t),this._value=n?t:ms(t)}get value(){return jc(this),this._value}set value(t){t=this.__v_isShallow?t:te(t),ps(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:ms(t),Hc(this))}}function tn(e){return De(e)?e.value:e}const Sd={get:(e,t,n)=>tn(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return De(r)&&!De(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function qc(e){return Sn(e)?e:new Proxy(e,Sd)}class Rd{constructor(t,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Vo(t,()=>{this._dirty||(this._dirty=!0,Hc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=te(this);return jc(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function xd(e,t,n=!1){let s,r;const i=z(e);return i?(s=e,r=ft):(s=e.get,r=e.set),new Rd(s,r,i||!r,n)}function Ut(e,t,n,s){let r;try{r=s?e(...s):e()}catch(i){Hr(i,t,n)}return r}function at(e,t,n,s){if(z(e)){const i=Ut(e,t,n,s);return i&&Ic(i)&&i.catch(o=>{Hr(o,t,n)}),i}const r=[];for(let i=0;i<e.length;i++)r.push(at(e[i],t,n,s));return r}function Hr(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){Ut(l,null,10,[e,o,a]);return}}Nd(e,n,r,s)}function Nd(e,t,n,s=!0){console.error(e)}let gr=!1,Wi=!1;const et=[];let Tt=0;const is=[];let ts=null,En=0;const os=[];let Mt=null,bn=0;const zc=Promise.resolve();let Wo=null,Xi=null;function Gc(e){const t=Wo||zc;return e?t.then(this?e.bind(this):e):t}function Dd(e){let t=Tt+1,n=et.length;for(;t<n;){const s=t+n>>>1;ys(et[s])<e?t=s+1:n=s}return t}function Wc(e){(!et.length||!et.includes(e,gr&&e.allowRecurse?Tt+1:Tt))&&e!==Xi&&(e.id==null?et.push(e):et.splice(Dd(e.id),0,e),Xc())}function Xc(){!gr&&!Wi&&(Wi=!0,Wo=zc.then(Jc))}function Od(e){const t=et.indexOf(e);t>Tt&&et.splice(t,1)}function Yc(e,t,n,s){q(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?s+1:s))&&n.push(e),Xc()}function Pd(e){Yc(e,ts,is,En)}function kd(e){Yc(e,Mt,os,bn)}function Xo(e,t=null){if(is.length){for(Xi=t,ts=[...new Set(is)],is.length=0,En=0;En<ts.length;En++)ts[En]();ts=null,En=0,Xi=null,Xo(e,t)}}function Qc(e){if(os.length){const t=[...new Set(os)];if(os.length=0,Mt){Mt.push(...t);return}for(Mt=t,Mt.sort((n,s)=>ys(n)-ys(s)),bn=0;bn<Mt.length;bn++)Mt[bn]();Mt=null,bn=0}}const ys=e=>e.id==null?1/0:e.id;function Jc(e){Wi=!1,gr=!0,Xo(e),et.sort((n,s)=>ys(n)-ys(s));const t=ft;try{for(Tt=0;Tt<et.length;Tt++){const n=et[Tt];n&&n.active!==!1&&Ut(n,null,14)}}finally{Tt=0,et.length=0,Qc(),gr=!1,Wo=null,(et.length||is.length||os.length)&&Jc(e)}}function Md(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ue;let r=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=s[u]||ue;d?r=n.map(m=>m.trim()):f&&(r=n.map(Xf))}let a,l=s[a=Ti(t)]||s[a=Ti(On(t))];!l&&i&&(l=s[a=Ti(jn(t))]),l&&at(l,e,6,r);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,at(c,e,6,r)}}function Zc(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!z(e)){const l=c=>{const u=Zc(c,t,!0);u&&(a=!0,Fe(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(s.set(e,null),null):(q(i)?i.forEach(l=>o[l]=null):Fe(o,i),s.set(e,o),o)}function Kr(e,t){return!e||!Ur(t)?!1:(t=t.slice(2).replace(/Once$/,""),J(e,t[0].toLowerCase()+t.slice(1))||J(e,jn(t))||J(e,t))}let Et=null,qr=null;function mr(e){const t=Et;return Et=e,qr=e&&e.type.__scopeId||null,t}function Ld(e){qr=e}function Fd(){qr=null}function eu(e,t=Et,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&ol(-1);const i=mr(t),o=e(...r);return mr(i),s._d&&ol(1),o};return s._n=!0,s._c=!0,s._d=!0,s}function Ci(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:d,setupState:m,ctx:v,inheritAttrs:R}=e;let N,O;const B=mr(e);try{if(n.shapeFlag&4){const W=r||s;N=yt(u.call(W,W,f,i,m,d,v)),O=l}else{const W=t;N=yt(W.length>1?W(i,{attrs:l,slots:a,emit:c}):W(i,null)),O=t.props?l:Bd(l)}}catch(W){as.length=0,Hr(W,e,1),N=Ke(Ct)}let Y=N;if(O&&R!==!1){const W=Object.keys(O),{shapeFlag:de}=Y;W.length&&de&7&&(o&&W.some(Mo)&&(O=Ud(O,o)),Y=on(Y,O))}return n.dirs&&(Y.dirs=Y.dirs?Y.dirs.concat(n.dirs):n.dirs),n.transition&&(Y.transition=n.transition),N=Y,mr(B),N}const Bd=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ur(n))&&((t||(t={}))[n]=e[n]);return t},Ud=(e,t)=>{const n={};for(const s in e)(!Mo(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Vd(e,t,n){const{props:s,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Qa(s,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==s[d]&&!Kr(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Qa(s,o,c):!0:!!o;return!1}function Qa(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!Kr(n,i))return!0}return!1}function $d({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const jd=e=>e.__isSuspense;function Hd(e,t){t&&t.pendingBranch?q(e)?t.effects.push(...e):t.effects.push(e):kd(e)}function cr(e,t){if(Ne){let n=Ne.provides;const s=Ne.parent&&Ne.parent.provides;s===n&&(n=Ne.provides=Object.create(s)),n[e]=t}}function Vt(e,t,n=!1){const s=Ne||Et;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&z(t)?t.call(s.proxy):t}}const Ja={};function ur(e,t,n){return tu(e,t,n)}function tu(e,t,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=ue){const a=Ne;let l,c=!1,u=!1;if(De(e)?(l=()=>e.value,c=Vc(e)):Sn(e)?(l=()=>e,s=!0):q(e)?(u=!0,c=e.some(Sn),l=()=>e.map(O=>{if(De(O))return O.value;if(Sn(O))return Tn(O);if(z(O))return Ut(O,a,2)})):z(e)?t?l=()=>Ut(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return f&&f(),at(e,a,3,[d])}:l=ft,t&&s){const O=l;l=()=>Tn(O())}let f,d=O=>{f=N.onStop=()=>{Ut(O,a,4)}};if(vs)return d=ft,t?n&&at(t,a,3,[l(),u?[]:void 0,d]):l(),ft;let m=u?[]:Ja;const v=()=>{if(!!N.active)if(t){const O=N.run();(s||c||(u?O.some((B,Y)=>ps(B,m[Y])):ps(O,m)))&&(f&&f(),at(t,a,3,[O,m===Ja?void 0:m,d]),m=O)}else N.run()};v.allowRecurse=!!t;let R;r==="sync"?R=v:r==="post"?R=()=>We(v,a&&a.suspense):R=()=>{!a||a.isMounted?Pd(v):v()};const N=new Vo(l,R);return t?n?v():m=N.run():r==="post"?We(N.run.bind(N),a&&a.suspense):N.run(),()=>{N.stop(),a&&a.scope&&Lo(a.scope.effects,N)}}function Kd(e,t,n){const s=this.proxy,r=Be(e)?e.includes(".")?nu(s,e):()=>s[e]:e.bind(s,s);let i;z(t)?i=t:(i=t.handler,n=t);const o=Ne;Pn(this);const a=tu(r,i.bind(s),n);return o?Pn(o):sn(),a}function nu(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Tn(e,t){if(!Ue(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),De(e))Tn(e.value,t);else if(q(e))for(let n=0;n<e.length;n++)Tn(e[n],t);else if(Hf(e)||rs(e))e.forEach(n=>{Tn(n,t)});else if(zf(e))for(const n in e)Tn(e[n],t);return e}function qd(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return au(()=>{e.isMounted=!0}),lu(()=>{e.isUnmounting=!0}),e}const ot=[Function,Array],zd={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ot,onEnter:ot,onAfterEnter:ot,onEnterCancelled:ot,onBeforeLeave:ot,onLeave:ot,onAfterLeave:ot,onLeaveCancelled:ot,onBeforeAppear:ot,onAppear:ot,onAfterAppear:ot,onAppearCancelled:ot},setup(e,{slots:t}){const n=Np(),s=qd();let r;return()=>{const i=t.default&&ru(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const R of i)if(R.type!==Ct){o=R;break}}const a=te(e),{mode:l}=a;if(s.isLeaving)return Ii(o);const c=Za(o);if(!c)return Ii(o);const u=Yi(c,a,s,n);Qi(c,u);const f=n.subTree,d=f&&Za(f);let m=!1;const{getTransitionKey:v}=c.type;if(v){const R=v();r===void 0?r=R:R!==r&&(r=R,m=!0)}if(d&&d.type!==Ct&&(!Yt(c,d)||m)){const R=Yi(d,a,s,n);if(Qi(d,R),l==="out-in")return s.isLeaving=!0,R.afterLeave=()=>{s.isLeaving=!1,n.update()},Ii(o);l==="in-out"&&c.type!==Ct&&(R.delayLeave=(N,O,B)=>{const Y=su(s,d);Y[String(d.key)]=d,N._leaveCb=()=>{O(),N._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=B})}return o}}},Gd=zd;function su(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Yi(e,t,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:d,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:R,onAppear:N,onAfterAppear:O,onAppearCancelled:B}=t,Y=String(e.key),W=su(n,e),de=(X,Te)=>{X&&at(X,s,9,Te)},_e={mode:i,persisted:o,beforeEnter(X){let Te=a;if(!n.isMounted)if(r)Te=R||a;else return;X._leaveCb&&X._leaveCb(!0);const me=W[Y];me&&Yt(e,me)&&me.el._leaveCb&&me.el._leaveCb(),de(Te,[X])},enter(X){let Te=l,me=c,Ge=u;if(!n.isMounted)if(r)Te=N||l,me=O||c,Ge=B||u;else return;let Me=!1;const Ve=X._enterCb=Dt=>{Me||(Me=!0,Dt?de(Ge,[X]):de(me,[X]),_e.delayedLeave&&_e.delayedLeave(),X._enterCb=void 0)};Te?(Te(X,Ve),Te.length<=1&&Ve()):Ve()},leave(X,Te){const me=String(e.key);if(X._enterCb&&X._enterCb(!0),n.isUnmounting)return Te();de(f,[X]);let Ge=!1;const Me=X._leaveCb=Ve=>{Ge||(Ge=!0,Te(),Ve?de(v,[X]):de(m,[X]),X._leaveCb=void 0,W[me]===e&&delete W[me])};W[me]=e,d?(d(X,Me),d.length<=1&&Me()):Me()},clone(X){return Yi(X,t,n,s)}};return _e}function Ii(e){if(zr(e))return e=on(e),e.children=null,e}function Za(e){return zr(e)?e.children?e.children[0]:void 0:e}function Qi(e,t){e.shapeFlag&6&&e.component?Qi(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ru(e,t=!1,n){let s=[],r=0;for(let i=0;i<e.length;i++){let o=e[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===ct?(o.patchFlag&128&&r++,s=s.concat(ru(o.children,t,a))):(t||o.type!==Ct)&&s.push(a!=null?on(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function iu(e){return z(e)?{setup:e,name:e.name}:e}const Ji=e=>!!e.type.__asyncLoader,zr=e=>e.type.__isKeepAlive;function Wd(e,t){ou(e,"a",t)}function Xd(e,t){ou(e,"da",t)}function ou(e,t,n=Ne){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Gr(t,s,n),n){let r=n.parent;for(;r&&r.parent;)zr(r.parent.vnode)&&Yd(s,t,n,r),r=r.parent}}function Yd(e,t,n,s){const r=Gr(t,e,s,!0);cu(()=>{Lo(s[t],r)},n)}function Gr(e,t,n=Ne,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Hn(),Pn(n);const a=at(t,n,e,o);return sn(),Kn(),a});return s?r.unshift(i):r.push(i),i}}const Nt=e=>(t,n=Ne)=>(!vs||e==="sp")&&Gr(e,t,n),Qd=Nt("bm"),au=Nt("m"),Jd=Nt("bu"),Zd=Nt("u"),lu=Nt("bum"),cu=Nt("um"),ep=Nt("sp"),tp=Nt("rtg"),np=Nt("rtc");function sp(e,t=Ne){Gr("ec",e,t)}let Zi=!0;function rp(e){const t=hu(e),n=e.proxy,s=e.ctx;Zi=!1,t.beforeCreate&&el(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:m,updated:v,activated:R,deactivated:N,beforeDestroy:O,beforeUnmount:B,destroyed:Y,unmounted:W,render:de,renderTracked:_e,renderTriggered:X,errorCaptured:Te,serverPrefetch:me,expose:Ge,inheritAttrs:Me,components:Ve,directives:Dt,filters:gn}=t;if(c&&ip(c,s,null,e.appContext.config.unwrapInjectedRef),o)for(const ae in o){const se=o[ae];z(se)&&(s[ae]=se.bind(n))}if(r){const ae=r.call(n,n);Ue(ae)&&(e.data=Ls(ae))}if(Zi=!0,i)for(const ae in i){const se=i[ae],Je=z(se)?se.bind(n,n):z(se.get)?se.get.bind(n,n):ft,yn=!z(se)&&z(se.set)?se.set.bind(n):ft,_t=vt({get:Je,set:yn});Object.defineProperty(s,ae,{enumerable:!0,configurable:!0,get:()=>_t.value,set:dt=>_t.value=dt})}if(a)for(const ae in a)uu(a[ae],s,n,ae);if(l){const ae=z(l)?l.call(n):l;Reflect.ownKeys(ae).forEach(se=>{cr(se,ae[se])})}u&&el(u,e,"c");function Ae(ae,se){q(se)?se.forEach(Je=>ae(Je.bind(n))):se&&ae(se.bind(n))}if(Ae(Qd,f),Ae(au,d),Ae(Jd,m),Ae(Zd,v),Ae(Wd,R),Ae(Xd,N),Ae(sp,Te),Ae(np,_e),Ae(tp,X),Ae(lu,B),Ae(cu,W),Ae(ep,me),q(Ge))if(Ge.length){const ae=e.exposed||(e.exposed={});Ge.forEach(se=>{Object.defineProperty(ae,se,{get:()=>n[se],set:Je=>n[se]=Je})})}else e.exposed||(e.exposed={});de&&e.render===ft&&(e.render=de),Me!=null&&(e.inheritAttrs=Me),Ve&&(e.components=Ve),Dt&&(e.directives=Dt)}function ip(e,t,n=ft,s=!1){q(e)&&(e=eo(e));for(const r in e){const i=e[r];let o;Ue(i)?"default"in i?o=Vt(i.from||r,i.default,!0):o=Vt(i.from||r):o=Vt(i),De(o)&&s?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[r]=o}}function el(e,t,n){at(q(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function uu(e,t,n,s){const r=s.includes(".")?nu(n,s):()=>n[s];if(Be(e)){const i=t[e];z(i)&&ur(r,i)}else if(z(e))ur(r,e.bind(n));else if(Ue(e))if(q(e))e.forEach(i=>uu(i,t,n,s));else{const i=z(e.handler)?e.handler.bind(n):t[e.handler];z(i)&&ur(r,i,e)}}function hu(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(c=>yr(l,c,o,!0)),yr(l,t,o)),i.set(t,l),l}function yr(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&yr(e,i,n,!0),r&&r.forEach(o=>yr(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=op[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const op={data:tl,props:Wt,emits:Wt,methods:Wt,computed:Wt,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:Wt,directives:Wt,watch:lp,provide:tl,inject:ap};function tl(e,t){return t?e?function(){return Fe(z(e)?e.call(this,this):e,z(t)?t.call(this,this):t)}:t:e}function ap(e,t){return Wt(eo(e),eo(t))}function eo(e){if(q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function $e(e,t){return e?[...new Set([].concat(e,t))]:t}function Wt(e,t){return e?Fe(Fe(Object.create(null),e),t):t}function lp(e,t){if(!e)return t;if(!t)return e;const n=Fe(Object.create(null),e);for(const s in t)n[s]=$e(e[s],t[s]);return n}function cp(e,t,n,s=!1){const r={},i={};pr(i,Yr,1),e.propsDefaults=Object.create(null),fu(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=s?r:Ad(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function up(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=te(r),[l]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Kr(e.emitsOptions,d))continue;const m=t[d];if(l)if(J(i,d))m!==i[d]&&(i[d]=m,c=!0);else{const v=On(d);r[v]=to(l,a,v,m,e,!1)}else m!==i[d]&&(i[d]=m,c=!0)}}}else{fu(e,t,r,i)&&(c=!0);let u;for(const f in a)(!t||!J(t,f)&&((u=jn(f))===f||!J(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=to(l,a,f,void 0,e,!0)):delete r[f]);if(i!==a)for(const f in i)(!t||!J(t,f)&&!0)&&(delete i[f],c=!0)}c&&St(e,"set","$attrs")}function fu(e,t,n,s){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(lr(l))continue;const c=t[l];let u;r&&J(r,u=On(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Kr(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=te(n),c=a||ue;for(let u=0;u<i.length;u++){const f=i[u];n[f]=to(r,l,f,c[f],e,!J(c,f))}}return o}function to(e,t,n,s,r,i){const o=e[n];if(o!=null){const a=J(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&z(l)){const{propsDefaults:c}=r;n in c?s=c[n]:(Pn(r),s=c[n]=l.call(null,t),sn())}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===jn(n))&&(s=!0))}return s}function du(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!z(e)){const u=f=>{l=!0;const[d,m]=du(f,t,!0);Fe(o,d),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return s.set(e,In),In;if(q(i))for(let u=0;u<i.length;u++){const f=On(i[u]);nl(f)&&(o[f]=ue)}else if(i)for(const u in i){const f=On(u);if(nl(f)){const d=i[u],m=o[f]=q(d)||z(d)?{type:d}:d;if(m){const v=il(Boolean,m.type),R=il(String,m.type);m[0]=v>-1,m[1]=R<0||v<R,(v>-1||J(m,"default"))&&a.push(f)}}}const c=[o,a];return s.set(e,c),c}function nl(e){return e[0]!=="$"}function sl(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function rl(e,t){return sl(e)===sl(t)}function il(e,t){return q(t)?t.findIndex(n=>rl(n,e)):z(t)&&rl(t,e)?0:-1}const pu=e=>e[0]==="_"||e==="$stable",Yo=e=>q(e)?e.map(yt):[yt(e)],hp=(e,t,n)=>{const s=eu((...r)=>Yo(t(...r)),n);return s._c=!1,s},gu=(e,t,n)=>{const s=e._ctx;for(const r in e){if(pu(r))continue;const i=e[r];if(z(i))t[r]=hp(r,i,s);else if(i!=null){const o=Yo(i);t[r]=()=>o}}},mu=(e,t)=>{const n=Yo(t);e.slots.default=()=>n},fp=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=te(t),pr(t,"_",n)):gu(t,e.slots={})}else e.slots={},t&&mu(e,t);pr(e.slots,Yr,1)},dp=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,o=ue;if(s.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Fe(r,t),!n&&a===1&&delete r._):(i=!t.$stable,gu(t,r)),o=t}else t&&(mu(e,t),o={default:1});if(i)for(const a in r)!pu(a)&&!(a in o)&&delete r[a]};function zt(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Hn(),at(l,n,8,[e.el,a,e,t]),Kn())}}function yu(){return{app:null,config:{isNativeTag:Vf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pp=0;function gp(e,t){return function(s,r=null){z(s)||(s=Object.assign({},s)),r!=null&&!Ue(r)&&(r=null);const i=yu(),o=new Set;let a=!1;const l=i.app={_uid:pp++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Lp,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&z(c.install)?(o.add(c),c.install(l,...u)):z(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,f){if(!a){const d=Ke(s,r);return d.appContext=i,u&&t?t(d,c):e(d,c,f),a=!0,l._container=c,c.__vue_app__=l,Zo(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l}};return l}}function no(e,t,n,s,r=!1){if(q(e)){e.forEach((d,m)=>no(d,t&&(q(t)?t[m]:t),n,s,r));return}if(Ji(s)&&!r)return;const i=s.shapeFlag&4?Zo(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===ue?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(Be(c)?(u[c]=null,J(f,c)&&(f[c]=null)):De(c)&&(c.value=null)),z(l))Ut(l,a,12,[o,u]);else{const d=Be(l),m=De(l);if(d||m){const v=()=>{if(e.f){const R=d?u[l]:l.value;r?q(R)&&Lo(R,i):q(R)?R.includes(i)||R.push(i):d?(u[l]=[i],J(f,l)&&(f[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else d?(u[l]=o,J(f,l)&&(f[l]=o)):De(l)&&(l.value=o,e.k&&(u[e.k]=o))};o?(v.id=-1,We(v,n)):v()}}}const We=Hd;function mp(e){return yp(e)}function yp(e,t){const n=Yf();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:m=ft,cloneNode:v,insertStaticContent:R}=e,N=(h,p,g,E=null,w=null,A=null,x=!1,_=null,C=!!p.dynamicChildren)=>{if(h===p)return;h&&!Yt(h,p)&&(E=M(h),it(h,w,A,!0),h=null),p.patchFlag===-2&&(C=!1,p.dynamicChildren=null);const{type:b,ref:L,shapeFlag:P}=p;switch(b){case Qo:O(h,p,g,E);break;case Ct:B(h,p,g,E);break;case Si:h==null&&Y(p,g,E,x);break;case ct:Dt(h,p,g,E,w,A,x,_,C);break;default:P&1?_e(h,p,g,E,w,A,x,_,C):P&6?gn(h,p,g,E,w,A,x,_,C):(P&64||P&128)&&b.process(h,p,g,E,w,A,x,_,C,le)}L!=null&&w&&no(L,h&&h.ref,A,p||h,!p)},O=(h,p,g,E)=>{if(h==null)s(p.el=a(p.children),g,E);else{const w=p.el=h.el;p.children!==h.children&&c(w,p.children)}},B=(h,p,g,E)=>{h==null?s(p.el=l(p.children||""),g,E):p.el=h.el},Y=(h,p,g,E)=>{[h.el,h.anchor]=R(h.children,p,g,E,h.el,h.anchor)},W=({el:h,anchor:p},g,E)=>{let w;for(;h&&h!==p;)w=d(h),s(h,g,E),h=w;s(p,g,E)},de=({el:h,anchor:p})=>{let g;for(;h&&h!==p;)g=d(h),r(h),h=g;r(p)},_e=(h,p,g,E,w,A,x,_,C)=>{x=x||p.type==="svg",h==null?X(p,g,E,w,A,x,_,C):Ge(h,p,w,A,x,_,C)},X=(h,p,g,E,w,A,x,_)=>{let C,b;const{type:L,props:P,shapeFlag:F,transition:$,patchFlag:Z,dirs:pe}=h;if(h.el&&v!==void 0&&Z===-1)C=h.el=v(h.el);else{if(C=h.el=o(h.type,A,P&&P.is,P),F&8?u(C,h.children):F&16&&me(h.children,C,null,E,w,A&&L!=="foreignObject",x,_),pe&&zt(h,null,E,"created"),P){for(const he in P)he!=="value"&&!lr(he)&&i(C,he,null,P[he],A,h.children,E,w,S);"value"in P&&i(C,"value",null,P.value),(b=P.onVnodeBeforeMount)&&gt(b,E,h)}Te(C,h,h.scopeId,x,E)}pe&&zt(h,null,E,"beforeMount");const ie=(!w||w&&!w.pendingBranch)&&$&&!$.persisted;ie&&$.beforeEnter(C),s(C,p,g),((b=P&&P.onVnodeMounted)||ie||pe)&&We(()=>{b&&gt(b,E,h),ie&&$.enter(C),pe&&zt(h,null,E,"mounted")},w)},Te=(h,p,g,E,w)=>{if(g&&m(h,g),E)for(let A=0;A<E.length;A++)m(h,E[A]);if(w){let A=w.subTree;if(p===A){const x=w.vnode;Te(h,x,x.scopeId,x.slotScopeIds,w.parent)}}},me=(h,p,g,E,w,A,x,_,C=0)=>{for(let b=C;b<h.length;b++){const L=h[b]=_?Lt(h[b]):yt(h[b]);N(null,L,p,g,E,w,A,x,_)}},Ge=(h,p,g,E,w,A,x)=>{const _=p.el=h.el;let{patchFlag:C,dynamicChildren:b,dirs:L}=p;C|=h.patchFlag&16;const P=h.props||ue,F=p.props||ue;let $;g&&Gt(g,!1),($=F.onVnodeBeforeUpdate)&&gt($,g,p,h),L&&zt(p,h,g,"beforeUpdate"),g&&Gt(g,!0);const Z=w&&p.type!=="foreignObject";if(b?Me(h.dynamicChildren,b,_,g,E,Z,A):x||Je(h,p,_,null,g,E,Z,A,!1),C>0){if(C&16)Ve(_,p,P,F,g,E,w);else if(C&2&&P.class!==F.class&&i(_,"class",null,F.class,w),C&4&&i(_,"style",P.style,F.style,w),C&8){const pe=p.dynamicProps;for(let ie=0;ie<pe.length;ie++){const he=pe[ie],lt=P[he],vn=F[he];(vn!==lt||he==="value")&&i(_,he,lt,vn,w,h.children,g,E,S)}}C&1&&h.children!==p.children&&u(_,p.children)}else!x&&b==null&&Ve(_,p,P,F,g,E,w);(($=F.onVnodeUpdated)||L)&&We(()=>{$&&gt($,g,p,h),L&&zt(p,h,g,"updated")},E)},Me=(h,p,g,E,w,A,x)=>{for(let _=0;_<p.length;_++){const C=h[_],b=p[_],L=C.el&&(C.type===ct||!Yt(C,b)||C.shapeFlag&70)?f(C.el):g;N(C,b,L,null,E,w,A,x,!0)}},Ve=(h,p,g,E,w,A,x)=>{if(g!==E){for(const _ in E){if(lr(_))continue;const C=E[_],b=g[_];C!==b&&_!=="value"&&i(h,_,b,C,x,p.children,w,A,S)}if(g!==ue)for(const _ in g)!lr(_)&&!(_ in E)&&i(h,_,g[_],null,x,p.children,w,A,S);"value"in E&&i(h,"value",g.value,E.value)}},Dt=(h,p,g,E,w,A,x,_,C)=>{const b=p.el=h?h.el:a(""),L=p.anchor=h?h.anchor:a("");let{patchFlag:P,dynamicChildren:F,slotScopeIds:$}=p;$&&(_=_?_.concat($):$),h==null?(s(b,g,E),s(L,g,E),me(p.children,g,L,w,A,x,_,C)):P>0&&P&64&&F&&h.dynamicChildren?(Me(h.dynamicChildren,F,g,w,A,x,_),(p.key!=null||w&&p===w.subTree)&&vu(h,p,!0)):Je(h,p,g,L,w,A,x,_,C)},gn=(h,p,g,E,w,A,x,_,C)=>{p.slotScopeIds=_,h==null?p.shapeFlag&512?w.ctx.activate(p,g,E,x,C):mn(p,g,E,w,A,x,C):Ae(h,p,C)},mn=(h,p,g,E,w,A,x)=>{const _=h.component=xp(h,E,w);if(zr(h)&&(_.ctx.renderer=le),Dp(_),_.asyncDep){if(w&&w.registerDep(_,ae),!h.el){const C=_.subTree=Ke(Ct);B(null,C,p,g)}return}ae(_,h,p,g,w,A,x)},Ae=(h,p,g)=>{const E=p.component=h.component;if(Vd(h,p,g))if(E.asyncDep&&!E.asyncResolved){se(E,p,g);return}else E.next=p,Od(E.update),E.update();else p.component=h.component,p.el=h.el,E.vnode=p},ae=(h,p,g,E,w,A,x)=>{const _=()=>{if(h.isMounted){let{next:L,bu:P,u:F,parent:$,vnode:Z}=h,pe=L,ie;Gt(h,!1),L?(L.el=Z.el,se(h,L,x)):L=Z,P&&Ai(P),(ie=L.props&&L.props.onVnodeBeforeUpdate)&&gt(ie,$,L,Z),Gt(h,!0);const he=Ci(h),lt=h.subTree;h.subTree=he,N(lt,he,f(lt.el),M(lt),h,w,A),L.el=he.el,pe===null&&$d(h,he.el),F&&We(F,w),(ie=L.props&&L.props.onVnodeUpdated)&&We(()=>gt(ie,$,L,Z),w)}else{let L;const{el:P,props:F}=p,{bm:$,m:Z,parent:pe}=h,ie=Ji(p);if(Gt(h,!1),$&&Ai($),!ie&&(L=F&&F.onVnodeBeforeMount)&&gt(L,pe,p),Gt(h,!0),P&&H){const he=()=>{h.subTree=Ci(h),H(P,h.subTree,h,w,null)};ie?p.type.__asyncLoader().then(()=>!h.isUnmounted&&he()):he()}else{const he=h.subTree=Ci(h);N(null,he,g,E,h,w,A),p.el=he.el}if(Z&&We(Z,w),!ie&&(L=F&&F.onVnodeMounted)){const he=p;We(()=>gt(L,pe,he),w)}p.shapeFlag&256&&h.a&&We(h.a,w),h.isMounted=!0,p=g=E=null}},C=h.effect=new Vo(_,()=>Wc(h.update),h.scope),b=h.update=C.run.bind(C);b.id=h.uid,Gt(h,!0),b()},se=(h,p,g)=>{p.component=h;const E=h.vnode.props;h.vnode=p,h.next=null,up(h,p.props,E,g),dp(h,p.children,g),Hn(),Xo(void 0,h.update),Kn()},Je=(h,p,g,E,w,A,x,_,C=!1)=>{const b=h&&h.children,L=h?h.shapeFlag:0,P=p.children,{patchFlag:F,shapeFlag:$}=p;if(F>0){if(F&128){_t(b,P,g,E,w,A,x,_,C);return}else if(F&256){yn(b,P,g,E,w,A,x,_,C);return}}$&8?(L&16&&S(b,w,A),P!==b&&u(g,P)):L&16?$&16?_t(b,P,g,E,w,A,x,_,C):S(b,w,A,!0):(L&8&&u(g,""),$&16&&me(P,g,E,w,A,x,_,C))},yn=(h,p,g,E,w,A,x,_,C)=>{h=h||In,p=p||In;const b=h.length,L=p.length,P=Math.min(b,L);let F;for(F=0;F<P;F++){const $=p[F]=C?Lt(p[F]):yt(p[F]);N(h[F],$,g,null,w,A,x,_,C)}b>L?S(h,w,A,!0,!1,P):me(p,g,E,w,A,x,_,C,P)},_t=(h,p,g,E,w,A,x,_,C)=>{let b=0;const L=p.length;let P=h.length-1,F=L-1;for(;b<=P&&b<=F;){const $=h[b],Z=p[b]=C?Lt(p[b]):yt(p[b]);if(Yt($,Z))N($,Z,g,null,w,A,x,_,C);else break;b++}for(;b<=P&&b<=F;){const $=h[P],Z=p[F]=C?Lt(p[F]):yt(p[F]);if(Yt($,Z))N($,Z,g,null,w,A,x,_,C);else break;P--,F--}if(b>P){if(b<=F){const $=F+1,Z=$<L?p[$].el:E;for(;b<=F;)N(null,p[b]=C?Lt(p[b]):yt(p[b]),g,Z,w,A,x,_,C),b++}}else if(b>F)for(;b<=P;)it(h[b],w,A,!0),b++;else{const $=b,Z=b,pe=new Map;for(b=Z;b<=F;b++){const Ze=p[b]=C?Lt(p[b]):yt(p[b]);Ze.key!=null&&pe.set(Ze.key,b)}let ie,he=0;const lt=F-Z+1;let vn=!1,$a=0;const Qn=new Array(lt);for(b=0;b<lt;b++)Qn[b]=0;for(b=$;b<=P;b++){const Ze=h[b];if(he>=lt){it(Ze,w,A,!0);continue}let pt;if(Ze.key!=null)pt=pe.get(Ze.key);else for(ie=Z;ie<=F;ie++)if(Qn[ie-Z]===0&&Yt(Ze,p[ie])){pt=ie;break}pt===void 0?it(Ze,w,A,!0):(Qn[pt-Z]=b+1,pt>=$a?$a=pt:vn=!0,N(Ze,p[pt],g,null,w,A,x,_,C),he++)}const ja=vn?vp(Qn):In;for(ie=ja.length-1,b=lt-1;b>=0;b--){const Ze=Z+b,pt=p[Ze],Ha=Ze+1<L?p[Ze+1].el:E;Qn[b]===0?N(null,pt,g,Ha,w,A,x,_,C):vn&&(ie<0||b!==ja[ie]?dt(pt,g,Ha,2):ie--)}}},dt=(h,p,g,E,w=null)=>{const{el:A,type:x,transition:_,children:C,shapeFlag:b}=h;if(b&6){dt(h.component.subTree,p,g,E);return}if(b&128){h.suspense.move(p,g,E);return}if(b&64){x.move(h,p,g,le);return}if(x===ct){s(A,p,g);for(let P=0;P<C.length;P++)dt(C[P],p,g,E);s(h.anchor,p,g);return}if(x===Si){W(h,p,g);return}if(E!==2&&b&1&&_)if(E===0)_.beforeEnter(A),s(A,p,g),We(()=>_.enter(A),w);else{const{leave:P,delayLeave:F,afterLeave:$}=_,Z=()=>s(A,p,g),pe=()=>{P(A,()=>{Z(),$&&$()})};F?F(A,Z,pe):pe()}else s(A,p,g)},it=(h,p,g,E=!1,w=!1)=>{const{type:A,props:x,ref:_,children:C,dynamicChildren:b,shapeFlag:L,patchFlag:P,dirs:F}=h;if(_!=null&&no(_,null,g,h,!0),L&256){p.ctx.deactivate(h);return}const $=L&1&&F,Z=!Ji(h);let pe;if(Z&&(pe=x&&x.onVnodeBeforeUnmount)&&gt(pe,p,h),L&6)k(h.component,g,E);else{if(L&128){h.suspense.unmount(g,E);return}$&&zt(h,null,p,"beforeUnmount"),L&64?h.type.remove(h,p,g,w,le,E):b&&(A!==ct||P>0&&P&64)?S(b,p,g,!1,!0):(A===ct&&P&384||!w&&L&16)&&S(C,p,g),E&&_i(h)}(Z&&(pe=x&&x.onVnodeUnmounted)||$)&&We(()=>{pe&&gt(pe,p,h),$&&zt(h,null,p,"unmounted")},g)},_i=h=>{const{type:p,el:g,anchor:E,transition:w}=h;if(p===ct){y(g,E);return}if(p===Si){de(h);return}const A=()=>{r(g),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(h.shapeFlag&1&&w&&!w.persisted){const{leave:x,delayLeave:_}=w,C=()=>x(g,A);_?_(h.el,A,C):C()}else A()},y=(h,p)=>{let g;for(;h!==p;)g=d(h),r(h),h=g;r(p)},k=(h,p,g)=>{const{bum:E,scope:w,update:A,subTree:x,um:_}=h;E&&Ai(E),w.stop(),A&&(A.active=!1,it(x,h,p,g)),_&&We(_,p),We(()=>{h.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},S=(h,p,g,E=!1,w=!1,A=0)=>{for(let x=A;x<h.length;x++)it(h[x],p,g,E,w)},M=h=>h.shapeFlag&6?M(h.component.subTree):h.shapeFlag&128?h.suspense.next():d(h.anchor||h.el),re=(h,p,g)=>{h==null?p._vnode&&it(p._vnode,null,null,!0):N(p._vnode||null,h,p,null,null,null,g),Qc(),p._vnode=h},le={p:N,um:it,m:dt,r:_i,mt:mn,mc:me,pc:Je,pbc:Me,n:M,o:e};let G,H;return t&&([G,H]=t(le)),{render:re,hydrate:G,createApp:gp(re,G)}}function Gt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function vu(e,t,n=!1){const s=e.children,r=t.children;if(q(s)&&q(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Lt(r[i]),a.el=o.el),n||vu(o,a))}}function vp(e){const t=e.slice(),n=[0];let s,r,i,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const wp=e=>e.__isTeleport,Ep=Symbol(),ct=Symbol(void 0),Qo=Symbol(void 0),Ct=Symbol(void 0),Si=Symbol(void 0),as=[];let nn=null;function Wr(e=!1){as.push(nn=e?null:[])}function bp(){as.pop(),nn=as[as.length-1]||null}let vr=1;function ol(e){vr+=e}function _p(e){return e.dynamicChildren=vr>0?nn||In:null,bp(),vr>0&&nn&&nn.push(e),e}function Xr(e,t,n,s,r,i){return _p(we(e,t,n,s,r,i,!0))}function so(e){return e?e.__v_isVNode===!0:!1}function Yt(e,t){return e.type===t.type&&e.key===t.key}const Yr="__vInternal",wu=({key:e})=>e!=null?e:null,hr=({ref:e,ref_key:t,ref_for:n})=>e!=null?Be(e)||De(e)||z(e)?{i:Et,r:e,k:t,f:!!n}:e:null;function we(e,t=null,n=null,s=0,r=null,i=e===ct?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wu(t),ref:t&&hr(t),scopeId:qr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(Jo(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=Be(n)?8:16),vr>0&&!o&&nn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&nn.push(l),l}const Ke=Tp;function Tp(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===Ep)&&(e=Ct),so(e)){const a=on(e,t,!0);return n&&Jo(a,n),a}if(Mp(e)&&(e=e.__vccOpts),t){t=Ap(t);let{class:a,style:l}=t;a&&!Be(a)&&(t.class=ko(a)),Ue(l)&&($c(l)&&!q(l)&&(l=Fe({},l)),t.style=Po(l))}const o=Be(e)?1:jd(e)?128:wp(e)?64:Ue(e)?4:z(e)?2:0;return we(e,t,n,s,r,o,i,!0)}function Ap(e){return e?$c(e)||Yr in e?Fe({},e):e:null}function on(e,t,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=e,a=t?Cp(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&wu(a),ref:t&&t.ref?n&&r?q(r)?r.concat(hr(t)):[r,hr(t)]:hr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ct?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&on(e.ssContent),ssFallback:e.ssFallback&&on(e.ssFallback),el:e.el,anchor:e.anchor}}function Eu(e=" ",t=0){return Ke(Qo,null,e,t)}function yt(e){return e==null||typeof e=="boolean"?Ke(Ct):q(e)?Ke(ct,null,e.slice()):typeof e=="object"?Lt(e):Ke(Qo,null,String(e))}function Lt(e){return e.el===null||e.memo?e:on(e)}function Jo(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(q(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Jo(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(Yr in t)?t._ctx=Et:r===3&&Et&&(Et.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else z(t)?(t={default:t,_ctx:Et},n=32):(t=String(t),s&64?(n=16,t=[Eu(t)]):n=8);e.children=t,e.shapeFlag|=n}function Cp(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=ko([t.class,s.class]));else if(r==="style")t.style=Po([t.style,s.style]);else if(Ur(r)){const i=t[r],o=s[r];o&&i!==o&&!(q(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=s[r])}return t}function gt(e,t,n,s=null){at(e,t,7,[n,s])}const ro=e=>e?bu(e)?Zo(e)||e.proxy:ro(e.parent):null,wr=Fe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ro(e.parent),$root:e=>ro(e.root),$emit:e=>e.emit,$options:e=>hu(e),$forceUpdate:e=>()=>Wc(e.update),$nextTick:e=>Gc.bind(e.proxy),$watch:e=>Kd.bind(e)}),Ip={get({_:e},t){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(s!==ue&&J(s,t))return o[t]=1,s[t];if(r!==ue&&J(r,t))return o[t]=2,r[t];if((c=e.propsOptions[0])&&J(c,t))return o[t]=3,i[t];if(n!==ue&&J(n,t))return o[t]=4,n[t];Zi&&(o[t]=0)}}const u=wr[t];let f,d;if(u)return t==="$attrs"&&nt(e,"get",t),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==ue&&J(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,J(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;return r!==ue&&J(r,t)?(r[t]=n,!0):s!==ue&&J(s,t)?(s[t]=n,!0):J(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||e!==ue&&J(e,o)||t!==ue&&J(t,o)||(a=i[0])&&J(a,o)||J(s,o)||J(wr,o)||J(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:J(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},Sp=yu();let Rp=0;function xp(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||Sp,i={uid:Rp++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Rc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:du(s,r),emitsOptions:Zc(s,r),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:s.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Md.bind(null,i),e.ce&&e.ce(i),i}let Ne=null;const Np=()=>Ne||Et,Pn=e=>{Ne=e,e.scope.on()},sn=()=>{Ne&&Ne.scope.off(),Ne=null};function bu(e){return e.vnode.shapeFlag&4}let vs=!1;function Dp(e,t=!1){vs=t;const{props:n,children:s}=e.vnode,r=bu(e);cp(e,n,r,t),fp(e,s);const i=r?Op(e,t):void 0;return vs=!1,i}function Op(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=qo(new Proxy(e.ctx,Ip));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?kp(e):null;Pn(e),Hn();const i=Ut(s,e,0,[e.props,r]);if(Kn(),sn(),Ic(i)){if(i.then(sn,sn),t)return i.then(o=>{al(e,o,t)}).catch(o=>{Hr(o,e,0)});e.asyncDep=i}else al(e,i,t)}else _u(e,t)}function al(e,t,n){z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ue(t)&&(e.setupState=qc(t)),_u(e,n)}let ll;function _u(e,t,n){const s=e.type;if(!e.render){if(!t&&ll&&!s.render){const r=s.template;if(r){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Fe(Fe({isCustomElement:i,delimiters:a},o),l);s.render=ll(r,c)}}e.render=s.render||ft}Pn(e),Hn(),rp(e),Kn(),sn()}function Pp(e){return new Proxy(e.attrs,{get(t,n){return nt(e,"get","$attrs"),t[n]}})}function kp(e){const t=s=>{e.exposed=s||{}};let n;return{get attrs(){return n||(n=Pp(e))},slots:e.slots,emit:e.emit,expose:t}}function Zo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(qc(qo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in wr)return wr[n](e)}}))}function Mp(e){return z(e)&&"__vccOpts"in e}const vt=(e,t)=>xd(e,t,vs);function Tu(e,t,n){const s=arguments.length;return s===2?Ue(t)&&!q(t)?so(t)?Ke(e,null,[t]):Ke(e,t):Ke(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&so(n)&&(n=[n]),Ke(e,t,n))}const Lp="3.2.33",Fp="http://www.w3.org/2000/svg",Qt=typeof document!="undefined"?document:null,cl=Qt&&Qt.createElement("template"),Bp={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t?Qt.createElementNS(Fp,e):Qt.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Qt.createTextNode(e),createComment:e=>Qt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Qt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,s,r,i){const o=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{cl.innerHTML=s?`<svg>${e}</svg>`:e;const a=cl.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Up(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Vp(e,t,n){const s=e.style,r=Be(n);if(n&&!r){for(const i in n)io(s,i,n[i]);if(t&&!Be(t))for(const i in t)n[i]==null&&io(s,i,"")}else{const i=s.display;r?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=i)}}const ul=/\s*!important$/;function io(e,t,n){if(q(n))n.forEach(s=>io(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=$p(e,t);ul.test(n)?e.setProperty(jn(s),n.replace(ul,""),"important"):e[s]=n}}const hl=["Webkit","Moz","ms"],Ri={};function $p(e,t){const n=Ri[t];if(n)return n;let s=On(t);if(s!=="filter"&&s in e)return Ri[t]=s;s=Sc(s);for(let r=0;r<hl.length;r++){const i=hl[r]+s;if(i in e)return Ri[t]=i}return t}const fl="http://www.w3.org/1999/xlink";function jp(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(fl,t.slice(6,t.length)):e.setAttributeNS(fl,t,n);else{const i=Lf(t);n==null||i&&!Cc(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Hp(e,t,n,s,r,i,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,r,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const l=n==null?"":n;(e.value!==l||e.tagName==="OPTION")&&(e.value=l),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Cc(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}const[Au,Kp]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let oo=0;const qp=Promise.resolve(),zp=()=>{oo=0},Gp=()=>oo||(qp.then(zp),oo=Au());function Wp(e,t,n,s){e.addEventListener(t,n,s)}function Xp(e,t,n,s){e.removeEventListener(t,n,s)}function Yp(e,t,n,s,r=null){const i=e._vei||(e._vei={}),o=i[t];if(s&&o)o.value=s;else{const[a,l]=Qp(t);if(s){const c=i[t]=Jp(s,r);Wp(e,a,c,l)}else o&&(Xp(e,a,o,l),i[t]=void 0)}}const dl=/(?:Once|Passive|Capture)$/;function Qp(e){let t;if(dl.test(e)){t={};let n;for(;n=e.match(dl);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[jn(e.slice(2)),t]}function Jp(e,t){const n=s=>{const r=s.timeStamp||Au();(Kp||r>=n.attached-1)&&at(Zp(s,n.value),t,5,[s])};return n.value=e,n.attached=Gp(),n}function Zp(e,t){if(q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const pl=/^on[a-z]/,eg=(e,t,n,s,r=!1,i,o,a,l)=>{t==="class"?Up(e,s,r):t==="style"?Vp(e,n,s):Ur(t)?Mo(t)||Yp(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):tg(e,t,s,r))?Hp(e,t,s,i,o,a,l):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),jp(e,t,s,r))};function tg(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&pl.test(t)&&z(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||pl.test(t)&&Be(n)?!1:t in e}const ng={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Gd.props;const sg=Fe({patchProp:eg},Bp);let gl;function rg(){return gl||(gl=mp(sg))}const ig=(...e)=>{const t=rg().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=og(s);if(!r)return;const i=t._component;!z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function og(e){return Be(e)?document.querySelector(e):e}var ag=!1;/*!
  * pinia v2.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const lg=Symbol();var ml;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ml||(ml={}));function cg(){const e=Qf(!0),t=e.run(()=>Go({}));let n=[],s=[];const r=qo({install(i){r._a=i,i.provide(lg,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!ag?s.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Cu=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",qn=e=>Cu?Symbol(e):"_vr_"+e,ug=qn("rvlm"),yl=qn("rvd"),ea=qn("r"),Iu=qn("rl"),ao=qn("rvl"),_n=typeof window!="undefined";function hg(e){return e.__esModule||Cu&&e[Symbol.toStringTag]==="Module"}const oe=Object.assign;function xi(e,t){const n={};for(const s in t){const r=t[s];n[s]=Array.isArray(r)?r.map(e):e(r)}return n}const ls=()=>{},fg=/\/$/,dg=e=>e.replace(fg,"");function Ni(e,t,n="/"){let s,r={},i="",o="";const a=t.indexOf("?"),l=t.indexOf("#",a>-1?a:0);return a>-1&&(s=t.slice(0,a),i=t.slice(a+1,l>-1?l:t.length),r=e(i)),l>-1&&(s=s||t.slice(0,l),o=t.slice(l,t.length)),s=yg(s!=null?s:t,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function pg(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function vl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function gg(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&kn(t.matched[s],n.matched[r])&&Su(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function kn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Su(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!mg(e[n],t[n]))return!1;return!0}function mg(e,t){return Array.isArray(e)?wl(e,t):Array.isArray(t)?wl(t,e):e===t}function wl(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function yg(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/");let r=n.length-1,i,o;for(i=0;i<s.length;i++)if(o=s[i],!(r===1||o==="."))if(o==="..")r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var ws;(function(e){e.pop="pop",e.push="push"})(ws||(ws={}));var cs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(cs||(cs={}));function vg(e){if(!e)if(_n){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),dg(e)}const wg=/^[^#]+#/;function Eg(e,t){return e.replace(wg,"#")+t}function bg(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Qr=()=>({left:window.pageXOffset,top:window.pageYOffset});function _g(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=bg(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function El(e,t){return(history.state?history.state.position-t:-1)+e}const lo=new Map;function Tg(e,t){lo.set(e,t)}function Ag(e){const t=lo.get(e);return lo.delete(e),t}let Cg=()=>location.protocol+"//"+location.host;function Ru(e,t){const{pathname:n,search:s,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),vl(l,"")}return vl(n,e)+s+r}function Ig(e,t,n,s){let r=[],i=[],o=null;const a=({state:d})=>{const m=Ru(e,location),v=n.value,R=t.value;let N=0;if(d){if(n.value=m,t.value=d,o&&o===v){o=null;return}N=R?d.position-R.position:0}else s(m);r.forEach(O=>{O(n.value,v,{delta:N,type:ws.pop,direction:N?N>0?cs.forward:cs.back:cs.unknown})})};function l(){o=n.value}function c(d){r.push(d);const m=()=>{const v=r.indexOf(d);v>-1&&r.splice(v,1)};return i.push(m),m}function u(){const{history:d}=window;!d.state||d.replaceState(oe({},d.state,{scroll:Qr()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:f}}function bl(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Qr():null}}function Sg(e){const{history:t,location:n}=window,s={value:Ru(e,n)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:Cg()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(m){console.error(m),n[u?"replace":"assign"](d)}}function o(l,c){const u=oe({},t.state,bl(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=oe({},r.value,t.state,{forward:l,scroll:Qr()});i(u.current,u,!0);const f=oe({},bl(s.value,l,null),{position:u.position+1},c);i(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function Rg(e){e=vg(e);const t=Sg(e),n=Ig(e,t.state,t.location,t.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=oe({location:"",base:e,go:s,createHref:Eg.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function xg(e){return typeof e=="string"||e&&typeof e=="object"}function xu(e){return typeof e=="string"||typeof e=="symbol"}const Pt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Nu=qn("nf");var _l;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(_l||(_l={}));function Mn(e,t){return oe(new Error,{type:e,[Nu]:!0},t)}function kt(e,t){return e instanceof Error&&Nu in e&&(t==null||!!(e.type&t))}const Tl="[^/]+?",Ng={sensitive:!1,strict:!1,start:!0,end:!0},Dg=/[.+*?^${}()[\]/\\]/g;function Og(e,t){const n=oe({},Ng,t),s=[];let r=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let m=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(Dg,"\\$&"),m+=40;else if(d.type===1){const{value:v,repeatable:R,optional:N,regexp:O}=d;i.push({name:v,repeatable:R,optional:N});const B=O||Tl;if(B!==Tl){m+=10;try{new RegExp(`(${B})`)}catch(W){throw new Error(`Invalid custom RegExp for param "${v}" (${B}): `+W.message)}}let Y=R?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;f||(Y=N&&c.length<2?`(?:/${Y})`:"/"+Y),N&&(Y+="?"),r+=Y,m+=20,N&&(m+=-8),R&&(m+=-20),B===".*"&&(m+=-50)}u.push(m)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const m=u[d]||"",v=i[d-1];f[v.name]=m&&v.repeatable?m.split("/"):m}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const m of d)if(m.type===0)u+=m.value;else if(m.type===1){const{value:v,repeatable:R,optional:N}=m,O=v in c?c[v]:"";if(Array.isArray(O)&&!R)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const B=Array.isArray(O)?O.join("/"):O;if(!B)if(N)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);u+=B}}return u}return{re:o,score:s,keys:i,parse:a,stringify:l}}function Pg(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function kg(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const i=Pg(s[n],r[n]);if(i)return i;n++}return r.length-s.length}const Mg={type:0,value:""},Lg=/[a-zA-Z0-9_]/;function Fg(e){if(!e)return[[]];if(e==="/")return[[Mg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function f(){!c||(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:l==="("?n=2:Lg.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function Bg(e,t,n){const s=Og(Fg(e.path),n),r=oe(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Ug(e,t){const n=[],s=new Map;t=Cl({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function i(u,f,d){const m=!d,v=$g(u);v.aliasOf=d&&d.record;const R=Cl(t,u),N=[v];if("alias"in u){const Y=typeof u.alias=="string"?[u.alias]:u.alias;for(const W of Y)N.push(oe({},v,{components:d?d.record.components:v.components,path:W,aliasOf:d?d.record:v}))}let O,B;for(const Y of N){const{path:W}=Y;if(f&&W[0]!=="/"){const de=f.record.path,_e=de[de.length-1]==="/"?"":"/";Y.path=f.record.path+(W&&_e+W)}if(O=Bg(Y,f,R),d?d.alias.push(O):(B=B||O,B!==O&&B.alias.push(O),m&&u.name&&!Al(O)&&o(u.name)),"children"in v){const de=v.children;for(let _e=0;_e<de.length;_e++)i(de[_e],O,d&&d.children[_e])}d=d||O,l(O)}return B?()=>{o(B)}:ls}function o(u){if(xu(u)){const f=s.get(u);f&&(s.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let f=0;for(;f<n.length&&kg(u,n[f])>=0&&(u.record.path!==n[f].record.path||!Du(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!Al(u)&&s.set(u.record.name,u)}function c(u,f){let d,m={},v,R;if("name"in u&&u.name){if(d=s.get(u.name),!d)throw Mn(1,{location:u});R=d.record.name,m=oe(Vg(f.params,d.keys.filter(B=>!B.optional).map(B=>B.name)),u.params),v=d.stringify(m)}else if("path"in u)v=u.path,d=n.find(B=>B.re.test(v)),d&&(m=d.parse(v),R=d.record.name);else{if(d=f.name?s.get(f.name):n.find(B=>B.re.test(f.path)),!d)throw Mn(1,{location:u,currentLocation:f});R=d.record.name,m=oe({},f.params,u.params),v=d.stringify(m)}const N=[];let O=d;for(;O;)N.unshift(O.record),O=O.parent;return{name:R,path:v,params:m,matched:N,meta:Hg(N)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function Vg(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function $g(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:jg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function jg(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="boolean"?n:n[s];return t}function Al(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Hg(e){return e.reduce((t,n)=>oe(t,n.meta),{})}function Cl(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Du(e,t){return t.children.some(n=>n===e||Du(e,n))}const Ou=/#/g,Kg=/&/g,qg=/\//g,zg=/=/g,Gg=/\?/g,Pu=/\+/g,Wg=/%5B/g,Xg=/%5D/g,ku=/%5E/g,Yg=/%60/g,Mu=/%7B/g,Qg=/%7C/g,Lu=/%7D/g,Jg=/%20/g;function ta(e){return encodeURI(""+e).replace(Qg,"|").replace(Wg,"[").replace(Xg,"]")}function Zg(e){return ta(e).replace(Mu,"{").replace(Lu,"}").replace(ku,"^")}function co(e){return ta(e).replace(Pu,"%2B").replace(Jg,"+").replace(Ou,"%23").replace(Kg,"%26").replace(Yg,"`").replace(Mu,"{").replace(Lu,"}").replace(ku,"^")}function em(e){return co(e).replace(zg,"%3D")}function tm(e){return ta(e).replace(Ou,"%23").replace(Gg,"%3F")}function nm(e){return e==null?"":tm(e).replace(qg,"%2F")}function Er(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function sm(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Pu," "),o=i.indexOf("="),a=Er(o<0?i:i.slice(0,o)),l=o<0?null:Er(i.slice(o+1));if(a in t){let c=t[a];Array.isArray(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Il(e){let t="";for(let n in e){const s=e[n];if(n=em(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(s)?s.map(i=>i&&co(i)):[s&&co(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function rm(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Array.isArray(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}function Jn(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Ft(e,t,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=f=>{f===!1?a(Mn(4,{from:n,to:t})):f instanceof Error?a(f):xg(f)?a(Mn(2,{from:t,to:f})):(i&&s.enterCallbacks[r]===i&&typeof f=="function"&&i.push(f),o())},c=e.call(s&&s.instances[r],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(f=>a(f))})}function Di(e,t,n,s){const r=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(im(a)){const c=(a.__vccOpts||a)[t];c&&r.push(Ft(c,n,s,i,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=hg(c)?c.default:c;i.components[o]=u;const d=(u.__vccOpts||u)[t];return d&&Ft(d,n,s,i,o)()}))}}return r}function im(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Sl(e){const t=Vt(ea),n=Vt(Iu),s=vt(()=>t.resolve(tn(e.to))),r=vt(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(kn.bind(null,u));if(d>-1)return d;const m=Rl(l[c-2]);return c>1&&Rl(u)===m&&f[f.length-1].path!==m?f.findIndex(kn.bind(null,l[c-2])):d}),i=vt(()=>r.value>-1&&lm(n.params,s.value.params)),o=vt(()=>r.value>-1&&r.value===n.matched.length-1&&Su(n.params,s.value.params));function a(l={}){return am(l)?t[tn(e.replace)?"replace":"push"](tn(e.to)).catch(ls):Promise.resolve()}return{route:s,href:vt(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const om=iu({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Sl,setup(e,{slots:t}){const n=Ls(Sl(e)),{options:s}=Vt(ea),r=vt(()=>({[xl(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[xl(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Tu("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),Fu=om;function am(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function lm(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Array.isArray(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Rl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const xl=(e,t,n)=>e!=null?e:t!=null?t:n,cm=iu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const s=Vt(ao),r=vt(()=>e.route||s.value),i=Vt(yl,0),o=vt(()=>r.value.matched[i]);cr(yl,i+1),cr(ug,o),cr(ao,r);const a=Go();return ur(()=>[a.value,o.value,e.name],([l,c,u],[f,d,m])=>{c&&(c.instances[u]=l,d&&d!==c&&l&&l===f&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),l&&c&&(!d||!kn(c,d)||!f)&&(c.enterCallbacks[u]||[]).forEach(v=>v(l))},{flush:"post"}),()=>{const l=r.value,c=o.value,u=c&&c.components[e.name],f=e.name;if(!u)return Nl(n.default,{Component:u,route:l});const d=c.props[e.name],m=d?d===!0?l.params:typeof d=="function"?d(l):d:null,R=Tu(u,oe({},m,t,{onVnodeUnmounted:N=>{N.component.isUnmounted&&(c.instances[f]=null)},ref:a}));return Nl(n.default,{Component:R,route:l})||R}}});function Nl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Bu=cm;function um(e){const t=Ug(e.routes,e),n=e.parseQuery||sm,s=e.stringifyQuery||Il,r=e.history,i=Jn(),o=Jn(),a=Jn(),l=Cd(Pt);let c=Pt;_n&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=xi.bind(null,y=>""+y),f=xi.bind(null,nm),d=xi.bind(null,Er);function m(y,k){let S,M;return xu(y)?(S=t.getRecordMatcher(y),M=k):M=y,t.addRoute(M,S)}function v(y){const k=t.getRecordMatcher(y);k&&t.removeRoute(k)}function R(){return t.getRoutes().map(y=>y.record)}function N(y){return!!t.getRecordMatcher(y)}function O(y,k){if(k=oe({},k||l.value),typeof y=="string"){const H=Ni(n,y,k.path),h=t.resolve({path:H.path},k),p=r.createHref(H.fullPath);return oe(H,h,{params:d(h.params),hash:Er(H.hash),redirectedFrom:void 0,href:p})}let S;if("path"in y)S=oe({},y,{path:Ni(n,y.path,k.path).path});else{const H=oe({},y.params);for(const h in H)H[h]==null&&delete H[h];S=oe({},y,{params:f(y.params)}),k.params=f(k.params)}const M=t.resolve(S,k),re=y.hash||"";M.params=u(d(M.params));const le=pg(s,oe({},y,{hash:Zg(re),path:M.path})),G=r.createHref(le);return oe({fullPath:le,hash:re,query:s===Il?rm(y.query):y.query||{}},M,{redirectedFrom:void 0,href:G})}function B(y){return typeof y=="string"?Ni(n,y,l.value.path):oe({},y)}function Y(y,k){if(c!==y)return Mn(8,{from:k,to:y})}function W(y){return X(y)}function de(y){return W(oe(B(y),{replace:!0}))}function _e(y){const k=y.matched[y.matched.length-1];if(k&&k.redirect){const{redirect:S}=k;let M=typeof S=="function"?S(y):S;return typeof M=="string"&&(M=M.includes("?")||M.includes("#")?M=B(M):{path:M},M.params={}),oe({query:y.query,hash:y.hash,params:y.params},M)}}function X(y,k){const S=c=O(y),M=l.value,re=y.state,le=y.force,G=y.replace===!0,H=_e(S);if(H)return X(oe(B(H),{state:re,force:le,replace:G}),k||S);const h=S;h.redirectedFrom=k;let p;return!le&&gg(s,M,S)&&(p=Mn(16,{to:h,from:M}),yn(M,M,!0,!1)),(p?Promise.resolve(p):me(h,M)).catch(g=>kt(g)?kt(g,2)?g:Je(g):ae(g,h,M)).then(g=>{if(g){if(kt(g,2))return X(oe(B(g.to),{state:re,force:le,replace:G}),k||h)}else g=Me(h,M,!0,G,re);return Ge(h,M,g),g})}function Te(y,k){const S=Y(y,k);return S?Promise.reject(S):Promise.resolve()}function me(y,k){let S;const[M,re,le]=hm(y,k);S=Di(M.reverse(),"beforeRouteLeave",y,k);for(const H of M)H.leaveGuards.forEach(h=>{S.push(Ft(h,y,k))});const G=Te.bind(null,y,k);return S.push(G),wn(S).then(()=>{S=[];for(const H of i.list())S.push(Ft(H,y,k));return S.push(G),wn(S)}).then(()=>{S=Di(re,"beforeRouteUpdate",y,k);for(const H of re)H.updateGuards.forEach(h=>{S.push(Ft(h,y,k))});return S.push(G),wn(S)}).then(()=>{S=[];for(const H of y.matched)if(H.beforeEnter&&!k.matched.includes(H))if(Array.isArray(H.beforeEnter))for(const h of H.beforeEnter)S.push(Ft(h,y,k));else S.push(Ft(H.beforeEnter,y,k));return S.push(G),wn(S)}).then(()=>(y.matched.forEach(H=>H.enterCallbacks={}),S=Di(le,"beforeRouteEnter",y,k),S.push(G),wn(S))).then(()=>{S=[];for(const H of o.list())S.push(Ft(H,y,k));return S.push(G),wn(S)}).catch(H=>kt(H,8)?H:Promise.reject(H))}function Ge(y,k,S){for(const M of a.list())M(y,k,S)}function Me(y,k,S,M,re){const le=Y(y,k);if(le)return le;const G=k===Pt,H=_n?history.state:{};S&&(M||G?r.replace(y.fullPath,oe({scroll:G&&H&&H.scroll},re)):r.push(y.fullPath,re)),l.value=y,yn(y,k,S,G),Je()}let Ve;function Dt(){Ve=r.listen((y,k,S)=>{const M=O(y),re=_e(M);if(re){X(oe(re,{replace:!0}),M).catch(ls);return}c=M;const le=l.value;_n&&Tg(El(le.fullPath,S.delta),Qr()),me(M,le).catch(G=>kt(G,12)?G:kt(G,2)?(X(G.to,M).then(H=>{kt(H,20)&&!S.delta&&S.type===ws.pop&&r.go(-1,!1)}).catch(ls),Promise.reject()):(S.delta&&r.go(-S.delta,!1),ae(G,M,le))).then(G=>{G=G||Me(M,le,!1),G&&(S.delta?r.go(-S.delta,!1):S.type===ws.pop&&kt(G,20)&&r.go(-1,!1)),Ge(M,le,G)}).catch(ls)})}let gn=Jn(),mn=Jn(),Ae;function ae(y,k,S){Je(y);const M=mn.list();return M.length?M.forEach(re=>re(y,k,S)):console.error(y),Promise.reject(y)}function se(){return Ae&&l.value!==Pt?Promise.resolve():new Promise((y,k)=>{gn.add([y,k])})}function Je(y){return Ae||(Ae=!y,Dt(),gn.list().forEach(([k,S])=>y?S(y):k()),gn.reset()),y}function yn(y,k,S,M){const{scrollBehavior:re}=e;if(!_n||!re)return Promise.resolve();const le=!S&&Ag(El(y.fullPath,0))||(M||!S)&&history.state&&history.state.scroll||null;return Gc().then(()=>re(y,k,le)).then(G=>G&&_g(G)).catch(G=>ae(G,y,k))}const _t=y=>r.go(y);let dt;const it=new Set;return{currentRoute:l,addRoute:m,removeRoute:v,hasRoute:N,getRoutes:R,resolve:O,options:e,push:W,replace:de,go:_t,back:()=>_t(-1),forward:()=>_t(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:mn.add,isReady:se,install(y){const k=this;y.component("RouterLink",Fu),y.component("RouterView",Bu),y.config.globalProperties.$router=k,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>tn(l)}),_n&&!dt&&l.value===Pt&&(dt=!0,W(r.location).catch(re=>{}));const S={};for(const re in Pt)S[re]=vt(()=>l.value[re]);y.provide(ea,k),y.provide(Iu,Ls(S)),y.provide(ao,l);const M=y.unmount;it.add(y),y.unmount=function(){it.delete(y),it.size<1&&(c=Pt,Ve&&Ve(),l.value=Pt,dt=!1,Ae=!1),M()}}}}function wn(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function hm(e,t){const n=[],s=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>kn(c,a))?s.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>kn(c,l))||r.push(l))}return[n,s,r]}var Uu=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n};const fm={class:"wrapper"},dm=Eu("Home"),pm={setup(e){return(t,n)=>(Wr(),Xr("header",null,[we("div",fm,[we("nav",null,[Ke(tn(Fu),{to:"/"},{default:eu(()=>[dm]),_:1})])])]))}};var gm=Uu(pm,[["__scopeId","data-v-1ac7e1a1"]]);const mm={setup(e){return(t,n)=>(Wr(),Xr(ct,null,[Ke(gm),Ke(tn(Bu))],64))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},ym=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const r=e[n++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=e[n++];t[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=e[n++],o=e[n++],a=e[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[s++]=String.fromCharCode(55296+(l>>10)),t[s++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],o=e[n++];t[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return t.join("")},vm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<e.length;r+=3){const i=e[r],o=r+1<e.length,a=o?e[r+1]:0,l=r+2<e.length,c=l?e[r+2]:0,u=i>>2,f=(i&3)<<4|a>>4;let d=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(d=64)),s.push(n[u],n[f],n[d],n[m])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Vu(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ym(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<e.length;){const i=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const c=r<e.length?n[e.charAt(r)]:64;++r;const f=r<e.length?n[e.charAt(r)]:64;if(++r,i==null||a==null||c==null||f==null)throw Error();const d=i<<2|a>>4;if(s.push(d),c!==64){const m=a<<4&240|c>>2;if(s.push(m),f!==64){const v=c<<6&192|f;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},wm=function(e){const t=Vu(e);return vm.encodeByteArray(t,!0)},$u=function(e){return wm(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bm(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jr())}function _m(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Tm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Am(){return Jr().indexOf("Electron/")>=0}function Cm(){const e=Jr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Im(){return Jr().indexOf("MSAppHost/")>=0}function Sm(){return typeof indexedDB=="object"}function Rm(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;t(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="FirebaseError";class Zr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=xm,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},r=`${this.service}/${t}`,i=this.errors[t],o=i?Nm(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Zr(r,a,s)}}function Nm(e,t){return e.replace(Dm,(n,s)=>{const r=t[s];return r!=null?String(r):`<${s}?>`})}const Dm=/\{\$([^}]+)}/g;function uo(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const r of n){if(!s.includes(r))return!1;const i=e[r],o=t[r];if(Dl(i)&&Dl(o)){if(!uo(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Dl(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(e){return e&&e._delegate?e._delegate:e}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e,t){return new Promise((n,s)=>{e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var i;s(`${t}: ${(i=r.target.error)===null||i===void 0?void 0:i.message}`)}})}class Ol{constructor(t){this._db=t,this.objectStoreNames=this._db.objectStoreNames}transaction(t,n="readonly"){return new Hu(this._db.transaction.call(this._db,t,n))}createObjectStore(t,n){return new Ku(this._db.createObjectStore(t,n))}close(){this._db.close()}}class Hu{constructor(t){this._transaction=t,this.complete=new Promise((n,s)=>{this._transaction.oncomplete=function(){n()},this._transaction.onerror=()=>{s(this._transaction.error)},this._transaction.onabort=()=>{s(this._transaction.error)}})}objectStore(t){return new Ku(this._transaction.objectStore(t))}}class Ku{constructor(t){this._store=t}index(t){return new Pl(this._store.index(t))}createIndex(t,n,s){return new Pl(this._store.createIndex(t,n,s))}get(t){const n=this._store.get(t);return ns(n,"Error reading from IndexedDB")}put(t,n){const s=this._store.put(t,n);return ns(s,"Error writing to IndexedDB")}delete(t){const n=this._store.delete(t);return ns(n,"Error deleting from IndexedDB")}clear(){const t=this._store.clear();return ns(t,"Error clearing IndexedDB object store")}}class Pl{constructor(t){this._index=t}get(t){const n=this._index.get(t);return ns(n,"Error reading from IndexedDB")}}function Om(e,t,n){return new Promise((s,r)=>{try{const i=indexedDB.open(e,t);i.onsuccess=o=>{s(new Ol(o.target.result))},i.onerror=o=>{var a;r(`Error opening indexedDB: ${(a=o.target.error)===null||a===void 0?void 0:a.message}`)},i.onupgradeneeded=o=>{n(new Ol(i.result),o.oldVersion,o.newVersion,new Hu(i.transaction))}}catch(i){r(`Error opening indexedDB: ${i.message}`)}})}class bs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Em;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Mm(t))try{this.getOrInitializeService({instanceIdentifier:Xt})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(t=Xt){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xt){return this.instances.has(t)}getOptions(t=Xt){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(t,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const r of s)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:km(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Xt){return this.component?this.component.multipleInstances?t:Xt:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function km(e){return e===Xt?void 0:e}function Mm(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Pm(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ne||(ne={}));const Fm={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},Bm=ne.INFO,Um={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},Vm=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),r=Um[t];if(r)console[r](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qu{constructor(t){this.name=t,this._logLevel=Bm,this._logHandler=Vm,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Fm[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jm(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function jm(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ho="@firebase/app",kl="0.7.21";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new qu("@firebase/app"),Hm="@firebase/app-compat",Km="@firebase/analytics-compat",qm="@firebase/analytics",zm="@firebase/app-check-compat",Gm="@firebase/app-check",Wm="@firebase/auth",Xm="@firebase/auth-compat",Ym="@firebase/database",Qm="@firebase/database-compat",Jm="@firebase/functions",Zm="@firebase/functions-compat",ey="@firebase/installations",ty="@firebase/installations-compat",ny="@firebase/messaging",sy="@firebase/messaging-compat",ry="@firebase/performance",iy="@firebase/performance-compat",oy="@firebase/remote-config",ay="@firebase/remote-config-compat",ly="@firebase/storage",cy="@firebase/storage-compat",uy="@firebase/firestore",hy="@firebase/firestore-compat",fy="firebase",dy="9.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="[DEFAULT]",py={[ho]:"fire-core",[Hm]:"fire-core-compat",[qm]:"fire-analytics",[Km]:"fire-analytics-compat",[Gm]:"fire-app-check",[zm]:"fire-app-check-compat",[Wm]:"fire-auth",[Xm]:"fire-auth-compat",[Ym]:"fire-rtdb",[Qm]:"fire-rtdb-compat",[Jm]:"fire-fn",[Zm]:"fire-fn-compat",[ey]:"fire-iid",[ty]:"fire-iid-compat",[ny]:"fire-fcm",[sy]:"fire-fcm-compat",[ry]:"fire-perf",[iy]:"fire-perf-compat",[oy]:"fire-rc",[ay]:"fire-rc-compat",[ly]:"fire-gcs",[cy]:"fire-gcs-compat",[uy]:"fire-fst",[hy]:"fire-fst-compat","fire-js":"fire-js",[fy]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new Map,fo=new Map;function gy(e,t){try{e.container.addComponent(t)}catch(n){na.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function _r(e){const t=e.name;if(fo.has(t))return na.debug(`There were multiple attempts to register component ${t}.`),!1;fo.set(t,e);for(const n of br.values())gy(n,e);return!0}function my(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},an=new ju("app","Firebase",yy);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw an.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=dy;function Ey(e,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:zu,automaticDataCollectionEnabled:!1},t),s=n.name;if(typeof s!="string"||!s)throw an.create("bad-app-name",{appName:String(s)});const r=br.get(s);if(r){if(uo(e,r.options)&&uo(n,r.config))return r;throw an.create("duplicate-app",{appName:s})}const i=new Lm(s);for(const a of fo.values())i.addComponent(a);const o=new vy(e,n,i);return br.set(s,o),o}function by(e=zu){const t=br.get(e);if(!t)throw an.create("no-app",{appName:e});return t}function Rn(e,t,n){var s;let r=(s=py[e])!==null&&s!==void 0?s:e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${t}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),na.warn(a.join(" "));return}_r(new bs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="firebase-heartbeat-database",Ty=1,_s="firebase-heartbeat-store";let Oi=null;function Gu(){return Oi||(Oi=Om(_y,Ty,(e,t)=>{switch(t){case 0:e.createObjectStore(_s)}}).catch(e=>{throw an.create("storage-open",{originalErrorMessage:e.message})})),Oi}async function Ay(e){try{return(await Gu()).transaction(_s).objectStore(_s).get(Wu(e))}catch(t){throw an.create("storage-get",{originalErrorMessage:t.message})}}async function Ml(e,t){try{const s=(await Gu()).transaction(_s,"readwrite");return await s.objectStore(_s).put(t,Wu(e)),s.complete}catch(n){throw an.create("storage-set",{originalErrorMessage:n.message})}}function Wu(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=1024,Iy=30*24*60*60*1e3;class Sy{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xy(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ll();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=Iy}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ll(),{heartbeatsToSend:n,unsentEntries:s}=Ry(this._heartbeatsCache.heartbeats),r=$u(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Ll(){return new Date().toISOString().substring(0,10)}function Ry(e,t=Cy){const n=[];let s=e.slice();for(const r of e){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Fl(n)>t){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Fl(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xy{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sm()?Rm().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Ay(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ml(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ml(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Fl(e){return $u(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(e){_r(new bs("platform-logger",t=>new $m(t),"PRIVATE")),_r(new bs("heartbeat",t=>new Sy(t),"PRIVATE")),Rn(ho,kl,e),Rn(ho,kl,"esm2017"),Rn("fire-js","")}Ny("");var Dy=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},D,sa=sa||{},V=Dy||self;function Tr(){}function po(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Fs(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Oy(e){return Object.prototype.hasOwnProperty.call(e,Pi)&&e[Pi]||(e[Pi]=++Py)}var Pi="closure_uid_"+(1e9*Math.random()>>>0),Py=0;function ky(e,t,n){return e.call.apply(e.bind,arguments)}function My(e,t,n){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function Oe(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Oe=ky:Oe=My,Oe.apply(null,arguments)}function sr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),e.apply(this,s)}}function ke(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(s,o)}}function Kt(){this.s=this.s,this.o=this.o}var Ly=0,Fy={};Kt.prototype.s=!1;Kt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),Ly!=0)){var e=Oy(this);delete Fy[e]}};Kt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Yu=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const s=e.length,r=typeof e=="string"?e.split(""):e;for(let i=0;i<s;i++)i in r&&t.call(n,r[i],i,e)};function By(e){e:{var t=xv;const n=e.length,s=typeof e=="string"?e.split(""):e;for(let r=0;r<n;r++)if(r in s&&t.call(void 0,s[r],r,e)){t=r;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function Bl(e){return Array.prototype.concat.apply([],arguments)}function ra(e){const t=e.length;if(0<t){const n=Array(t);for(let s=0;s<t;s++)n[s]=e[s];return n}return[]}function Ar(e){return/^[\s\xa0]*$/.test(e)}var Ul=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function je(e,t){return e.indexOf(t)!=-1}function ki(e,t){return e<t?-1:e>t?1:0}var He;e:{var Vl=V.navigator;if(Vl){var $l=Vl.userAgent;if($l){He=$l;break e}}He=""}function ia(e,t,n){for(const s in e)t.call(n,e[s],s,e)}function Qu(e){const t={};for(const n in e)t[n]=e[n];return t}var jl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ju(e,t){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)e[n]=s[n];for(let i=0;i<jl.length;i++)n=jl[i],Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}}function oa(e){return oa[" "](e),e}oa[" "]=Tr;function Uy(e){var t=jy;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var Vy=je(He,"Opera"),Ln=je(He,"Trident")||je(He,"MSIE"),Zu=je(He,"Edge"),go=Zu||Ln,eh=je(He,"Gecko")&&!(je(He.toLowerCase(),"webkit")&&!je(He,"Edge"))&&!(je(He,"Trident")||je(He,"MSIE"))&&!je(He,"Edge"),$y=je(He.toLowerCase(),"webkit")&&!je(He,"Edge");function th(){var e=V.document;return e?e.documentMode:void 0}var Cr;e:{var Mi="",Li=function(){var e=He;if(eh)return/rv:([^\);]+)(\)|;)/.exec(e);if(Zu)return/Edge\/([\d\.]+)/.exec(e);if(Ln)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if($y)return/WebKit\/(\S+)/.exec(e);if(Vy)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Li&&(Mi=Li?Li[1]:""),Ln){var Fi=th();if(Fi!=null&&Fi>parseFloat(Mi)){Cr=String(Fi);break e}}Cr=Mi}var jy={};function Hy(){return Uy(function(){let e=0;const t=Ul(String(Cr)).split("."),n=Ul("9").split("."),s=Math.max(t.length,n.length);for(let o=0;e==0&&o<s;o++){var r=t[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;e=ki(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||ki(r[2].length==0,i[2].length==0)||ki(r[2],i[2]),r=r[3],i=i[3]}while(e==0)}return 0<=e})}var mo;if(V.document&&Ln){var Hl=th();mo=Hl||parseInt(Cr,10)||void 0}else mo=void 0;var Ky=mo,qy=function(){if(!V.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{V.addEventListener("test",Tr,t),V.removeEventListener("test",Tr,t)}catch{}return e}();function Le(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};function Ts(e,t){if(Le.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(eh){e:{try{oa(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:zy[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ts.Z.h.call(this)}}ke(Ts,Le);var zy={2:"touch",3:"pen",4:"mouse"};Ts.prototype.h=function(){Ts.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Bs="closure_listenable_"+(1e6*Math.random()|0),Gy=0;function Wy(e,t,n,s,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!s,this.ia=r,this.key=++Gy,this.ca=this.fa=!1}function ei(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ti(e){this.src=e,this.g={},this.h=0}ti.prototype.add=function(e,t,n,s,r){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=vo(e,t,s,r);return-1<o?(t=e[o],n||(t.fa=!1)):(t=new Wy(t,this.src,i,!!s,r),t.fa=n,e.push(t)),t};function yo(e,t){var n=t.type;if(n in e.g){var s=e.g[n],r=Xu(s,t),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(ei(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function vo(e,t,n,s){for(var r=0;r<e.length;++r){var i=e[r];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==s)return r}return-1}var aa="closure_lm_"+(1e6*Math.random()|0),Bi={};function nh(e,t,n,s,r){if(s&&s.once)return rh(e,t,n,s,r);if(Array.isArray(t)){for(var i=0;i<t.length;i++)nh(e,t[i],n,s,r);return null}return n=ua(n),e&&e[Bs]?e.N(t,n,Fs(s)?!!s.capture:!!s,r):sh(e,t,n,!1,s,r)}function sh(e,t,n,s,r,i){if(!t)throw Error("Invalid event type");var o=Fs(r)?!!r.capture:!!r,a=ca(e);if(a||(e[aa]=a=new ti(e)),n=a.add(t,n,s,o,i),n.proxy)return n;if(s=Xy(),n.proxy=s,s.src=e,s.listener=n,e.addEventListener)qy||(r=o),r===void 0&&(r=!1),e.addEventListener(t.toString(),s,r);else if(e.attachEvent)e.attachEvent(oh(t.toString()),s);else if(e.addListener&&e.removeListener)e.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Xy(){function e(n){return t.call(e.src,e.listener,n)}var t=Yy;return e}function rh(e,t,n,s,r){if(Array.isArray(t)){for(var i=0;i<t.length;i++)rh(e,t[i],n,s,r);return null}return n=ua(n),e&&e[Bs]?e.O(t,n,Fs(s)?!!s.capture:!!s,r):sh(e,t,n,!0,s,r)}function ih(e,t,n,s,r){if(Array.isArray(t))for(var i=0;i<t.length;i++)ih(e,t[i],n,s,r);else s=Fs(s)?!!s.capture:!!s,n=ua(n),e&&e[Bs]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=vo(i,n,s,r),-1<n&&(ei(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=ca(e))&&(t=e.g[t.toString()],e=-1,t&&(e=vo(t,n,s,r)),(n=-1<e?t[e]:null)&&la(n))}function la(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Bs])yo(t.i,e);else{var n=e.type,s=e.proxy;t.removeEventListener?t.removeEventListener(n,s,e.capture):t.detachEvent?t.detachEvent(oh(n),s):t.addListener&&t.removeListener&&t.removeListener(s),(n=ca(t))?(yo(n,e),n.h==0&&(n.src=null,t[aa]=null)):ei(e)}}}function oh(e){return e in Bi?Bi[e]:Bi[e]="on"+e}function Yy(e,t){if(e.ca)e=!0;else{t=new Ts(t,this);var n=e.listener,s=e.ia||e.src;e.fa&&la(e),e=n.call(s,t)}return e}function ca(e){return e=e[aa],e instanceof ti?e:null}var Ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function ua(e){return typeof e=="function"?e:(e[Ui]||(e[Ui]=function(t){return e.handleEvent(t)}),e[Ui])}function Se(){Kt.call(this),this.i=new ti(this),this.P=this,this.I=null}ke(Se,Kt);Se.prototype[Bs]=!0;Se.prototype.removeEventListener=function(e,t,n,s){ih(this,e,t,n,s)};function Pe(e,t){var n,s=e.I;if(s)for(n=[];s;s=s.I)n.push(s);if(e=e.P,s=t.type||t,typeof t=="string")t=new Le(t,e);else if(t instanceof Le)t.target=t.target||e;else{var r=t;t=new Le(s,e),Ju(t,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];r=rr(o,s,!0,t)&&r}if(o=t.g=e,r=rr(o,s,!0,t)&&r,r=rr(o,s,!1,t)&&r,n)for(i=0;i<n.length;i++)o=t.g=n[i],r=rr(o,s,!1,t)&&r}Se.prototype.M=function(){if(Se.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],s=0;s<n.length;s++)ei(n[s]);delete e.g[t],e.h--}}this.I=null};Se.prototype.N=function(e,t,n,s){return this.i.add(String(e),t,!1,n,s)};Se.prototype.O=function(e,t,n,s){return this.i.add(String(e),t,!0,n,s)};function rr(e,t,n,s){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&yo(e.i,o),r=a.call(l,s)!==!1&&r}}return r&&!s.defaultPrevented}var ha=V.JSON.stringify;function Qy(){var e=lh;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Jy{constructor(){this.h=this.g=null}add(t,n){const s=ah.get();s.set(t,n),this.h?this.h.next=s:this.g=s,this.h=s}}var ah=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Zy,e=>e.reset());class Zy{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ev(e){V.setTimeout(()=>{throw e},0)}function fa(e,t){wo||tv(),Eo||(wo(),Eo=!0),lh.add(e,t)}var wo;function tv(){var e=V.Promise.resolve(void 0);wo=function(){e.then(nv)}}var Eo=!1,lh=new Jy;function nv(){for(var e;e=Qy();){try{e.h.call(e.g)}catch(n){ev(n)}var t=ah;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Eo=!1}function ni(e,t){Se.call(this),this.h=e||1,this.g=t||V,this.j=Oe(this.kb,this),this.l=Date.now()}ke(ni,Se);D=ni.prototype;D.da=!1;D.S=null;D.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pe(this,"tick"),this.da&&(da(this),this.start()))}};D.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function da(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}D.M=function(){ni.Z.M.call(this),da(this),delete this.g};function pa(e,t,n){if(typeof e=="function")n&&(e=Oe(e,n));else if(e&&typeof e.handleEvent=="function")e=Oe(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:V.setTimeout(e,t||0)}function ch(e){e.g=pa(()=>{e.g=null,e.i&&(e.i=!1,ch(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class sv extends Kt{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ch(this)}M(){super.M(),this.g&&(V.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(e){Kt.call(this),this.h=e,this.g={}}ke(As,Kt);var Kl=[];function uh(e,t,n,s){Array.isArray(n)||(n&&(Kl[0]=n.toString()),n=Kl);for(var r=0;r<n.length;r++){var i=nh(t,n[r],s||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function hh(e){ia(e.g,function(t,n){this.g.hasOwnProperty(n)&&la(t)},e),e.g={}}As.prototype.M=function(){As.Z.M.call(this),hh(this)};As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function si(){this.g=!0}si.prototype.Aa=function(){this.g=!1};function rv(e,t,n,s,r,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var f=u.split("_");o=2<=f.length&&f[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+t+`
`+n+`
`+o})}function iv(e,t,n,s,r,i,o){e.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+t+`
`+n+`
`+i+" "+o})}function An(e,t,n,s){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+av(e,n)+(s?" "+s:"")})}function ov(e,t){e.info(function(){return"TIMEOUT: "+t})}si.prototype.info=function(){};function av(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var s=n[e];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return ha(n)}catch{return t}}var pn={},ql=null;function ri(){return ql=ql||new Se}pn.Ma="serverreachability";function fh(e){Le.call(this,pn.Ma,e)}ke(fh,Le);function Cs(e){const t=ri();Pe(t,new fh(t,e))}pn.STAT_EVENT="statevent";function dh(e,t){Le.call(this,pn.STAT_EVENT,e),this.stat=t}ke(dh,Le);function qe(e){const t=ri();Pe(t,new dh(t,e))}pn.Na="timingevent";function ph(e,t){Le.call(this,pn.Na,e),this.size=t}ke(ph,Le);function Us(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return V.setTimeout(function(){e()},t)}var ii={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gh={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ga(){}ga.prototype.h=null;function zl(e){return e.h||(e.h=e.i())}function mh(){}var Vs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ma(){Le.call(this,"d")}ke(ma,Le);function ya(){Le.call(this,"c")}ke(ya,Le);var bo;function oi(){}ke(oi,ga);oi.prototype.g=function(){return new XMLHttpRequest};oi.prototype.i=function(){return{}};bo=new oi;function $s(e,t,n,s){this.l=e,this.j=t,this.m=n,this.X=s||1,this.V=new As(this),this.P=lv,e=go?125:void 0,this.W=new ni(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yh}function yh(){this.i=null,this.g="",this.h=!1}var lv=45e3,_o={},Ir={};D=$s.prototype;D.setTimeout=function(e){this.P=e};function To(e,t,n){e.K=1,e.v=li(Rt(t)),e.s=n,e.U=!0,vh(e,null)}function vh(e,t){e.F=Date.now(),js(e),e.A=Rt(e.v);var n=e.A,s=e.X;Array.isArray(s)||(s=[String(s)]),Ch(n.h,"t",s),e.C=0,n=e.l.H,e.h=new yh,e.g=qh(e.l,n?t:null,!e.s),0<e.O&&(e.L=new sv(Oe(e.Ia,e,e.g),e.O)),uh(e.V,e.g,"readystatechange",e.gb),t=e.H?Qu(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Cs(1),rv(e.j,e.u,e.A,e.m,e.X,e.s)}D.gb=function(e){e=e.target;const t=this.L;t&&At(e)==3?t.l():this.Ia(e)};D.Ia=function(e){try{if(e==this.g)e:{const u=At(this.g);var t=this.g.Da();const f=this.g.ba();if(!(3>u)&&(u!=3||go||this.g&&(this.h.h||this.g.ga()||Yl(this.g)))){this.I||u!=4||t==7||(t==8||0>=f?Cs(3):Cs(2)),ai(this);var n=this.g.ba();this.N=n;t:if(wh(this)){var s=Yl(this.g);e="";var r=s.length,i=At(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Jt(this),us(this);var o="";break t}this.h.i=new V.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(s[t],{stream:i&&t==r-1});s.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,iv(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ar(a)){var c=a;break t}}c=null}if(n=c)An(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ao(this,n);else{this.i=!1,this.o=3,qe(12),Jt(this),us(this);break e}}this.U?(Eh(this,u,o),go&&this.i&&u==3&&(uh(this.V,this.W,"tick",this.fb),this.W.start())):(An(this.j,this.m,o,null),Ao(this,o)),u==4&&Jt(this),this.i&&!this.I&&(u==4?$h(this.l,this):(this.i=!1,js(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,qe(12)):(this.o=0,qe(13)),Jt(this),us(this)}}}catch{}finally{}};function wh(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function Eh(e,t,n){let s=!0,r;for(;!e.I&&e.C<n.length;)if(r=cv(e,n),r==Ir){t==4&&(e.o=4,qe(14),s=!1),An(e.j,e.m,null,"[Incomplete Response]");break}else if(r==_o){e.o=4,qe(15),An(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}else An(e.j,e.m,r,null),Ao(e,r);wh(e)&&r!=Ir&&r!=_o&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,qe(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ia(t),t.L=!0,qe(11))):(An(e.j,e.m,n,"[Invalid Chunked Response]"),Jt(e),us(e))}D.fb=function(){if(this.g){var e=At(this.g),t=this.g.ga();this.C<t.length&&(ai(this),Eh(this,e,t),this.i&&e!=4&&js(this))}};function cv(e,t){var n=e.C,s=t.indexOf(`
`,n);return s==-1?Ir:(n=Number(t.substring(n,s)),isNaN(n)?_o:(s+=1,s+n>t.length?Ir:(t=t.substr(s,n),e.C=s+n,t)))}D.cancel=function(){this.I=!0,Jt(this)};function js(e){e.Y=Date.now()+e.P,bh(e,e.P)}function bh(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Us(Oe(e.eb,e),t)}function ai(e){e.B&&(V.clearTimeout(e.B),e.B=null)}D.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(ov(this.j,this.A),this.K!=2&&(Cs(3),qe(17)),Jt(this),this.o=2,us(this)):bh(this,this.Y-e)};function us(e){e.l.G==0||e.I||$h(e.l,e)}function Jt(e){ai(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,da(e.W),hh(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ao(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Co(n.i,e))){if(n.I=e.N,!e.J&&Co(n.i,e)&&n.G==3){try{var s=n.Ca.g.parse(t)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Nr(n),hi(n);else break e;Ca(n),qe(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&n.A==0&&!n.v&&(n.v=Us(Oe(n.ab,n),6e3));if(1>=Rh(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Zt(n,11)}else if((e.J||n.g==e)&&Nr(n),!Ar(t))for(r=n.Ca.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.U=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.J=c[1],n.la=c[2];const u=c[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));const f=c[4];f!=null&&(n.za=f,n.h.info("SVER="+n.za));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(s=1.5*d,n.K=s,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;const m=e.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var i=s.i;!i.g&&(je(v,"spdy")||je(v,"quic")||je(v,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(Ea(i,i.h),i.h=null))}if(s.D){const R=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;R&&(s.sa=R,ge(s.F,s.D,R))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),s=n;var o=e;if(s.oa=Kh(s,s.H?s.la:null,s.W),o.J){xh(s.i,o);var a=o,l=s.K;l&&a.setTimeout(l),a.B&&(ai(a),js(a)),s.g=o}else Uh(s);0<n.l.length&&fi(n)}else c[0]!="stop"&&c[0]!="close"||Zt(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Zt(n,7):Aa(n):c[0]!="noop"&&n.j&&n.j.wa(c),n.A=0)}}Cs(4)}catch{}}function uv(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(po(e)){for(var t=[],n=e.length,s=0;s<n;s++)t.push(e[s]);return t}t=[],n=0;for(s in e)t[n++]=e[s];return t}function va(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(po(e)||typeof e=="string")Yu(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(po(e)||typeof e=="string"){n=[];for(var s=e.length,r=0;r<s;r++)n.push(r)}else for(r in n=[],s=0,e)n[s++]=r;s=uv(e),r=s.length;for(var i=0;i<r;i++)t.call(void 0,s[i],n&&n[i],e)}}function zn(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(e)if(e instanceof zn)for(n=e.T(),s=0;s<n.length;s++)this.set(n[s],e.get(n[s]));else for(s in e)this.set(s,e[s])}D=zn.prototype;D.R=function(){wa(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};D.T=function(){return wa(this),this.g.concat()};function wa(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var s=e.g[t];ln(e.h,s)&&(e.g[n++]=s),t++}e.g.length=n}if(e.i!=e.g.length){var r={};for(n=t=0;t<e.g.length;)s=e.g[t],ln(r,s)||(e.g[n++]=s,r[s]=1),t++;e.g.length=n}}D.get=function(e,t){return ln(this.h,e)?this.h[e]:t};D.set=function(e,t){ln(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};D.forEach=function(e,t){for(var n=this.T(),s=0;s<n.length;s++){var r=n[s],i=this.get(r);e.call(t,i,r,this)}};function ln(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _h=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function hv(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var s=e[n].indexOf("="),r=null;if(0<=s){var i=e[n].substring(0,s);r=e[n].substring(s+1)}else i=e[n];t(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function cn(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof cn){this.g=t!==void 0?t:e.g,Sr(this,e.j),this.s=e.s,Rr(this,e.i),xr(this,e.m),this.l=e.l,t=e.h;var n=new Is;n.i=t.i,t.g&&(n.g=new zn(t.g),n.h=t.h),Gl(this,n),this.o=e.o}else e&&(n=String(e).match(_h))?(this.g=!!t,Sr(this,n[1]||"",!0),this.s=hs(n[2]||""),Rr(this,n[3]||"",!0),xr(this,n[4]),this.l=hs(n[5]||"",!0),Gl(this,n[6]||"",!0),this.o=hs(n[7]||"")):(this.g=!!t,this.h=new Is(null,this.g))}cn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ss(t,Wl,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ss(t,Wl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(ss(n,n.charAt(0)=="/"?mv:gv,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ss(n,vv)),e.join("")};function Rt(e){return new cn(e)}function Sr(e,t,n){e.j=n?hs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Rr(e,t,n){e.i=n?hs(t,!0):t}function xr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gl(e,t,n){t instanceof Is?(e.h=t,wv(e.h,e.g)):(n||(t=ss(t,yv)),e.h=new Is(t,e.g))}function ge(e,t,n){e.h.set(t,n)}function li(e){return ge(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fv(e){return e instanceof cn?Rt(e):new cn(e,void 0)}function dv(e,t,n,s){var r=new cn(null,void 0);return e&&Sr(r,e),t&&Rr(r,t),n&&xr(r,n),s&&(r.l=s),r}function hs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ss(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,pv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pv(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Wl=/[#\/\?@]/g,gv=/[#\?:]/g,mv=/[#\?]/g,yv=/[#\?@]/g,vv=/#/g;function Is(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qt(e){e.g||(e.g=new zn,e.h=0,e.i&&hv(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}D=Is.prototype;D.add=function(e,t){qt(this),this.i=null,e=Gn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Th(e,t){qt(e),t=Gn(e,t),ln(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,ln(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&wa(e)))}function Ah(e,t){return qt(e),t=Gn(e,t),ln(e.g.h,t)}D.forEach=function(e,t){qt(this),this.g.forEach(function(n,s){Yu(n,function(r){e.call(t,r,s,this)},this)},this)};D.T=function(){qt(this);for(var e=this.g.R(),t=this.g.T(),n=[],s=0;s<t.length;s++)for(var r=e[s],i=0;i<r.length;i++)n.push(t[s]);return n};D.R=function(e){qt(this);var t=[];if(typeof e=="string")Ah(this,e)&&(t=Bl(t,this.g.get(Gn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Bl(t,e[n])}return t};D.set=function(e,t){return qt(this),this.i=null,e=Gn(this,e),Ah(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};D.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function Ch(e,t,n){Th(e,t),0<n.length&&(e.i=null,e.g.set(Gn(e,t),ra(n)),e.h+=n.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var s=t[n],r=encodeURIComponent(String(s));s=this.R(s);for(var i=0;i<s.length;i++){var o=r;s[i]!==""&&(o+="="+encodeURIComponent(String(s[i]))),e.push(o)}}return this.i=e.join("&")};function Gn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function wv(e,t){t&&!e.j&&(qt(e),e.i=null,e.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(Th(this,s),Ch(this,r,n))},e)),e.j=t}var Ev=class{constructor(e,t){this.h=e,this.g=t}};function Ih(e){this.l=e||bv,V.PerformanceNavigationTiming?(e=V.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(V.g&&V.g.Ea&&V.g.Ea()&&V.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bv=10;function Sh(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Rh(e){return e.h?1:e.g?e.g.size:0}function Co(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Ea(e,t){e.g?e.g.add(t):e.h=t}function xh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Ih.prototype.cancel=function(){if(this.i=Nh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Nh(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return ra(e.i)}function ba(){}ba.prototype.stringify=function(e){return V.JSON.stringify(e,void 0)};ba.prototype.parse=function(e){return V.JSON.parse(e,void 0)};function _v(){this.g=new ba}function Tv(e,t,n){const s=n||"";try{va(e,function(r,i){let o=r;Fs(r)&&(o=ha(r)),t.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw t.push(s+"type="+encodeURIComponent("_badmap")),r}}function Av(e,t){const n=new si;if(V.Image){const s=new Image;s.onload=sr(ir,n,s,"TestLoadImage: loaded",!0,t),s.onerror=sr(ir,n,s,"TestLoadImage: error",!1,t),s.onabort=sr(ir,n,s,"TestLoadImage: abort",!1,t),s.ontimeout=sr(ir,n,s,"TestLoadImage: timeout",!1,t),V.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=e}else t(!1)}function ir(e,t,n,s,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(s)}catch{}}function Hs(e){this.l=e.$b||null,this.j=e.ib||!1}ke(Hs,ga);Hs.prototype.g=function(){return new ci(this.l,this.j)};Hs.prototype.i=function(e){return function(){return e}}({});function ci(e,t){Se.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_a,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ke(ci,Se);var _a=0;D=ci.prototype;D.open=function(e,t){if(this.readyState!=_a)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ss(this)};D.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||V).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=_a};D.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ss(this)),this.g&&(this.readyState=3,Ss(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof V.ReadableStream!="undefined"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Dh(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function Dh(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}D.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ks(this):Ss(this),this.readyState==3&&Dh(this)}};D.Ua=function(e){this.g&&(this.response=this.responseText=e,Ks(this))};D.Ta=function(e){this.g&&(this.response=e,Ks(this))};D.ha=function(){this.g&&Ks(this)};function Ks(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ss(e)}D.setRequestHeader=function(e,t){this.v.append(e,t)};D.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ss(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Cv=V.JSON.parse;function be(e){Se.call(this),this.headers=new zn,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Oh,this.K=this.L=!1}ke(be,Se);var Oh="",Iv=/^https?$/i,Sv=["POST","PUT"];D=be.prototype;D.ea=function(e,t,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bo.g(),this.C=this.u?zl(this.u):zl(bo),this.g.onreadystatechange=Oe(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){Xl(this,i);return}e=n||"";const r=new zn(this.headers);s&&va(s,function(i,o){r.set(o,i)}),s=By(r.T()),n=V.FormData&&e instanceof V.FormData,!(0<=Xu(Sv,t))||s||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(i,o){this.g.setRequestHeader(o,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mh(this),0<this.B&&((this.K=Rv(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Oe(this.pa,this)):this.A=pa(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Xl(this,i)}};function Rv(e){return Ln&&Hy()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function xv(e){return e.toLowerCase()=="content-type"}D.pa=function(){typeof sa!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pe(this,"timeout"),this.abort(8))};function Xl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ph(e),ui(e)}function Ph(e){e.D||(e.D=!0,Pe(e,"complete"),Pe(e,"error"))}D.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Pe(this,"complete"),Pe(this,"abort"),ui(this))};D.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ui(this,!0)),be.Z.M.call(this)};D.Fa=function(){this.s||(this.F||this.v||this.l?kh(this):this.cb())};D.cb=function(){kh(this)};function kh(e){if(e.h&&typeof sa!="undefined"&&(!e.C[1]||At(e)!=4||e.ba()!=2)){if(e.v&&At(e)==4)pa(e.Fa,0,e);else if(Pe(e,"readystatechange"),At(e)==4){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=a===0){var r=String(e.H).match(_h)[1]||null;if(!r&&V.self&&V.self.location){var i=V.self.location.protocol;r=i.substr(0,i.length-1)}s=!Iv.test(r?r.toLowerCase():"")}n=s}if(n)Pe(e,"complete"),Pe(e,"success");else{e.m=6;try{var o=2<At(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.ba()+"]",Ph(e)}}finally{ui(e)}}}}function ui(e,t){if(e.g){Mh(e);const n=e.g,s=e.C[0]?Tr:null;e.g=null,e.C=null,t||Pe(e,"ready");try{n.onreadystatechange=s}catch{}}}function Mh(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(V.clearTimeout(e.A),e.A=null)}function At(e){return e.g?e.g.readyState:0}D.ba=function(){try{return 2<At(this)?this.g.status:-1}catch{return-1}};D.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Cv(t)}};function Yl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Oh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}D.Da=function(){return this.m};D.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Nv(e){let t="";return ia(e,function(n,s){t+=s,t+=":",t+=n,t+=`\r
`}),t}function Ta(e,t,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Nv(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ge(e,t,n))}function Zn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Lh(e){this.za=0,this.l=[],this.h=new si,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zn("baseRetryDelayMs",5e3,e),this.$a=Zn("retryDelaySeedMs",1e4,e),this.Ya=Zn("forwardChannelMaxRetries",2,e),this.ra=Zn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ih(e&&e.concurrentRequestLimit),this.Ca=new _v,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}D=Lh.prototype;D.ma=8;D.G=1;function Aa(e){if(Fh(e),e.G==3){var t=e.V++,n=Rt(e.F);ge(n,"SID",e.J),ge(n,"RID",t),ge(n,"TYPE","terminate"),qs(e,n),t=new $s(e,e.h,t,void 0),t.K=2,t.v=li(Rt(n)),n=!1,V.navigator&&V.navigator.sendBeacon&&(n=V.navigator.sendBeacon(t.v.toString(),"")),!n&&V.Image&&(new Image().src=t.v,n=!0),n||(t.g=qh(t.l,null),t.g.ea(t.v)),t.F=Date.now(),js(t)}Hh(e)}D.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function hi(e){e.g&&(Ia(e),e.g.cancel(),e.g=null)}function Fh(e){hi(e),e.u&&(V.clearTimeout(e.u),e.u=null),Nr(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&V.clearTimeout(e.m),e.m=null)}function Vi(e,t){e.l.push(new Ev(e.Za++,t)),e.G==3&&fi(e)}function fi(e){Sh(e.i)||e.m||(e.m=!0,fa(e.Ha,e),e.C=0)}function Dv(e,t){return Rh(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Us(Oe(e.Ha,e,t),jh(e,e.C)),e.C++,!0)}D.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const r=new $s(this,this.h,e,void 0);let i=this.s;if(this.P&&(i?(i=Qu(i),Ju(i,this.P)):i=this.P),this.o===null&&(r.H=i),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){t:{var s=this.l[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(t+=s,4096<t){t=n;break e}if(t===4096||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Bh(this,r,t),n=Rt(this.F),ge(n,"RID",e),ge(n,"CVER",22),this.D&&ge(n,"X-HTTP-Session-Id",this.D),qs(this,n),this.o&&i&&Ta(n,this.o,i),Ea(this.i,r),this.Ra&&ge(n,"TYPE","init"),this.ja?(ge(n,"$req",t),ge(n,"SID","null"),r.$=!0,To(r,n,null)):To(r,n,t),this.G=2}}else this.G==3&&(e?Ql(this,e):this.l.length==0||Sh(this.i)||Ql(this))};function Ql(e,t){var n;t?n=t.m:n=e.V++;const s=Rt(e.F);ge(s,"SID",e.J),ge(s,"RID",n),ge(s,"AID",e.U),qs(e,s),e.o&&e.s&&Ta(s,e.o,e.s),n=new $s(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Bh(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ea(e.i,n),To(n,s,t)}function qs(e,t){e.j&&va({},function(n,s){ge(t,s,n)})}function Bh(e,t,n){n=Math.min(e.l.length,n);var s=e.j?Oe(e.j.Oa,e.j,e):null;e:{var r=e.l;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=r[l].h;const u=r[l].g;if(c-=i,0>c)i=Math.max(0,r[l].h-100),a=!1;else try{Tv(u,o,"req"+c+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,s}function Uh(e){e.g||e.u||(e.Y=1,fa(e.Ga,e),e.A=0)}function Ca(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Us(Oe(e.Ga,e),jh(e,e.A)),e.A++,!0)}D.Ga=function(){if(this.u=null,Vh(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Us(Oe(this.bb,this),e)}};D.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qe(10),hi(this),Vh(this))};function Ia(e){e.B!=null&&(V.clearTimeout(e.B),e.B=null)}function Vh(e){e.g=new $s(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Rt(e.oa);ge(t,"RID","rpc"),ge(t,"SID",e.J),ge(t,"CI",e.N?"0":"1"),ge(t,"AID",e.U),qs(e,t),ge(t,"TYPE","xmlhttp"),e.o&&e.s&&Ta(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=li(Rt(t)),n.s=null,n.U=!0,vh(n,e)}D.ab=function(){this.v!=null&&(this.v=null,hi(this),Ca(this),qe(19))};function Nr(e){e.v!=null&&(V.clearTimeout(e.v),e.v=null)}function $h(e,t){var n=null;if(e.g==t){Nr(e),Ia(e),e.g=null;var s=2}else if(Co(e.i,t))n=t.D,xh(e.i,t),s=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(s==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;s=ri(),Pe(s,new ph(s,n,t,r)),fi(e)}else Uh(e);else if(r=t.o,r==3||r==0&&0<e.I||!(s==1&&Dv(e,t)||s==2&&Ca(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:Zt(e,5);break;case 4:Zt(e,10);break;case 3:Zt(e,6);break;default:Zt(e,2)}}}function jh(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Zt(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var s=Oe(e.jb,e);n||(n=new cn("//www.google.com/images/cleardot.gif"),V.location&&V.location.protocol=="http"||Sr(n,"https"),li(n)),Av(n.toString(),s)}else qe(2);e.G=0,e.j&&e.j.va(t),Hh(e),Fh(e)}D.jb=function(e){e?(this.h.info("Successfully pinged google.com"),qe(2)):(this.h.info("Failed to ping google.com"),qe(1))};function Hh(e){e.G=0,e.I=-1,e.j&&((Nh(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,ra(e.l),e.l.length=0),e.j.ua())}function Kh(e,t,n){let s=fv(n);if(s.i!="")t&&Rr(s,t+"."+s.i),xr(s,s.m);else{const r=V.location;s=dv(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,n)}return e.aa&&ia(e.aa,function(r,i){ge(s,i,r)}),t=e.D,n=e.sa,t&&n&&ge(s,t,n),ge(s,"VER",e.ma),qs(e,s),s}function qh(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new be(new Hs({ib:!0})):new be(e.qa),t.L=e.H,t}function zh(){}D=zh.prototype;D.xa=function(){};D.wa=function(){};D.va=function(){};D.ua=function(){};D.Oa=function(){};function Dr(){if(Ln&&!(10<=Number(Ky)))throw Error("Environmental error: no available transport.")}Dr.prototype.g=function(e,t){return new st(e,t)};function st(e,t){Se.call(this),this.g=new Lh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ar(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ar(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Wn(this)}ke(st,Se);st.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),fa(Oe(e.hb,e,t))),qe(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Kh(e,null,e.W),fi(e)};st.prototype.close=function(){Aa(this.g)};st.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Vi(this.g,t)}else this.v?(t={},t.__data__=ha(e),Vi(this.g,t)):Vi(this.g,e)};st.prototype.M=function(){this.g.j=null,delete this.j,Aa(this.g),delete this.g,st.Z.M.call(this)};function Gh(e){ma.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ke(Gh,ma);function Wh(){ya.call(this),this.status=1}ke(Wh,ya);function Wn(e){this.g=e}ke(Wn,zh);Wn.prototype.xa=function(){Pe(this.g,"a")};Wn.prototype.wa=function(e){Pe(this.g,new Gh(e))};Wn.prototype.va=function(e){Pe(this.g,new Wh(e))};Wn.prototype.ua=function(){Pe(this.g,"b")};Dr.prototype.createWebChannel=Dr.prototype.g;st.prototype.send=st.prototype.u;st.prototype.open=st.prototype.m;st.prototype.close=st.prototype.close;ii.NO_ERROR=0;ii.TIMEOUT=8;ii.HTTP_ERROR=6;gh.COMPLETE="complete";mh.EventType=Vs;Vs.OPEN="a";Vs.CLOSE="b";Vs.ERROR="c";Vs.MESSAGE="d";Se.prototype.listen=Se.prototype.N;be.prototype.listenOnce=be.prototype.O;be.prototype.getLastError=be.prototype.La;be.prototype.getLastErrorCode=be.prototype.Da;be.prototype.getStatus=be.prototype.ba;be.prototype.getResponseJson=be.prototype.Qa;be.prototype.getResponseText=be.prototype.ga;be.prototype.send=be.prototype.ea;var Ov=function(){return new Dr},Pv=function(){return ri()},$i=ii,kv=gh,Mv=pn,Jl={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Lv=Hs,or=mh,Fv=be;const Zl="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xn="9.6.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new qu("@firebase/firestore");function ec(){return un.logLevel}function U(e,...t){if(un.logLevel<=ne.DEBUG){const n=t.map(Sa);un.debug(`Firestore (${Xn}): ${e}`,...n)}}function hn(e,...t){if(un.logLevel<=ne.ERROR){const n=t.map(Sa);un.error(`Firestore (${Xn}): ${e}`,...n)}}function tc(e,...t){if(un.logLevel<=ne.WARN){const n=t.map(Sa);un.warn(`Firestore (${Xn}): ${e}`,...n)}}function Sa(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(e="Unexpected state"){const t=`FIRESTORE (${Xn}) INTERNAL ASSERTION FAILED: `+e;throw hn(t),new Error(t)}function Ce(e,t){e||ee()}function fe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends Zr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Uv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}}class Vv{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let s=this.i;const r=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let i=new rn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rn,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rn)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ce(typeof s.accessToken=="string"),new Bv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ce(t===null||typeof t=="string"),new Xe(t)}}class $v{constructor(t,n,s){this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class jv{constructor(t,n,s){this.h=t,this.l=n,this.m=s}getToken(){return Promise.resolve(new $v(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kv{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,n){const s=i=>{i.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.p;return this.p=i.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>s(i))};const r=i=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ce(typeof n.token=="string"),this.p=n.token,new Hv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.I(s),this.T=s=>n.writeSequenceNumber(s))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(e){const t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xh.A=-1;class Yh{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let s="";for(;s.length<20;){const r=qv(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=t.charAt(r[i]%t.length))}return s}}function ce(e,t){return e<t?-1:e>t?1:0}function Fn(e,t,n){return e.length===t.length&&e.every((s,r)=>n(s,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new j(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new j(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new j(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ze.fromMillis(Date.now())}static fromDate(t){return ze.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*n));return new ze(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ce(this.nanoseconds,t.nanoseconds):ce(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ee(t)}static min(){return new Ee(new ze(0,0))}static max(){return new Ee(new ze(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t,n,s){n===void 0?n=0:n>t.length&&ee(),s===void 0?s=t.length-n:s>t.length-n&&ee(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Rs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Rs?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let r=0;r<s;r++){const i=t.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ye extends Rs{construct(t,n,s){return new ye(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new j(T.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const zv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Rs{construct(t,n,s){return new Ye(t,n,s)}static isValidIdentifier(t){return zv.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ye(["__name__"])}static fromServerFormat(t){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new j(T.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new j(T.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new j(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new j(T.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(n)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t){this.fields=t,t.sort(Ye.comparator)}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Fn(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=atob(t);return new xt(n)}static fromUint8Array(t){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(t);return new xt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ce(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const Gv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fn(e){if(Ce(!!e),typeof e=="string"){let t=0;const n=Gv.exec(e);if(Ce(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Re(e.seconds),nanos:Re(e.nanos)}}function Re(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function xs(e){return typeof e=="string"?xt.fromBase64String(e):xt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Or(e){const t=fn(e.mapValue.fields.__local_write_time__.timestampValue);return new ze(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(t,n,s,r,i,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ns{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ns("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ns&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(e){return e==null}function Pr(e){return e===0&&1/e==-1/0}function Yv(e){return typeof e=="number"&&Number.isInteger(e)&&!Pr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.path=t}static fromPath(t){return new K(ye.fromString(t))}static fromName(t){return new K(ye.fromString(t).popFirst(5))}static empty(){return new K(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ye.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ye.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new K(new ye(t.slice()))}}function Bn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wv(e)?4:Qv(e)?9:10:ee()}function bt(e,t){if(e===t)return!0;const n=Bn(e);if(n!==Bn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Or(e).isEqual(Or(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=fn(s.timestampValue),o=fn(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return xs(s.bytesValue).isEqual(xs(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return Re(s.geoPointValue.latitude)===Re(r.geoPointValue.latitude)&&Re(s.geoPointValue.longitude)===Re(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Re(s.integerValue)===Re(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Re(s.doubleValue),o=Re(r.doubleValue);return i===o?Pr(i)===Pr(o):isNaN(i)&&isNaN(o)}return!1}(e,t);case 9:return Fn(e.arrayValue.values||[],t.arrayValue.values||[],bt);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(nc(i)!==nc(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!bt(i[a],o[a])))return!1;return!0}(e,t);default:return ee()}}function Ds(e,t){return(e.values||[]).find(n=>bt(n,t))!==void 0}function Un(e,t){if(e===t)return 0;const n=Bn(e),s=Bn(t);if(n!==s)return ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(e.booleanValue,t.booleanValue);case 2:return function(r,i){const o=Re(r.integerValue||r.doubleValue),a=Re(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return sc(e.timestampValue,t.timestampValue);case 4:return sc(Or(e),Or(t));case 5:return ce(e.stringValue,t.stringValue);case 6:return function(r,i){const o=xs(r),a=xs(i);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ce(o[l],a[l]);if(c!==0)return c}return ce(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,i){const o=ce(Re(r.latitude),Re(i.latitude));return o!==0?o:ce(Re(r.longitude),Re(i.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Un(o[l],a[l]);if(c)return c}return ce(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,i){const o=r.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const f=ce(a[u],c[u]);if(f!==0)return f;const d=Un(o[a[u]],l[c[u]]);if(d!==0)return d}return ce(a.length,c.length)}(e.mapValue,t.mapValue);default:throw ee()}}function sc(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ce(e,t);const n=fn(e),s=fn(t),r=ce(n.seconds,s.seconds);return r!==0?r:ce(n.nanos,s.nanos)}function xn(e){return So(e)}function So(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(s){const r=fn(s);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?xs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,K.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=So(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${So(s.fields[a])}`;return i+"}"}(e.mapValue):ee();var t,n}function Ro(e){return!!e&&"integerValue"in e}function Ra(e){return!!e&&"arrayValue"in e}function fr(e){return!!e&&"mapValue"in e}function fs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zs(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=fs(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=fs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Qv(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.value=t}static empty(){return new wt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!fr(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=fs(n)}setAll(t){let n=Ye.emptyPath(),s={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=fs(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(t){const n=this.field(t.popLast());fr(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return bt(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let r=n.mapValue.fields[t.get(s)];fr(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,s){zs(n,(r,i)=>t[r]=i);for(const r of s)delete t[r]}clone(){return new wt(fs(this.value))}}function Jh(e){const t=[];return zs(e.fields,(n,s)=>{const r=new Ye([n]);if(fr(s)){const i=Jh(s.mapValue).fields;if(i.length===0)t.push(r);else for(const o of i)t.push(r.child(o))}else t.push(r)}),new Io(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t,n,s,r,i,o){this.key=t,this.documentType=n,this.version=s,this.readTime=r,this.data=i,this.documentState=o}static newInvalidDocument(t){return new ut(t,0,Ee.min(),Ee.min(),wt.empty(),0)}static newFoundDocument(t,n,s){return new ut(t,1,n,Ee.min(),s,0)}static newNoDocument(t,n){return new ut(t,2,n,Ee.min(),wt.empty(),0)}static newUnknownDocument(t,n){return new ut(t,3,n,Ee.min(),wt.empty(),2)}convertToFoundDocument(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ut&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ut(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function Jv(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,r=Ee.fromTimestamp(s===1e9?new ze(n+1,0):new ze(n,s));return new Vn(r,K.empty(),t)}function Zv(e){return new Vn(e.readTime,e.key,-1)}class Vn{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Vn(Ee.min(),K.empty(),-1)}static max(){return new Vn(Ee.max(),K.empty(),-1)}}function ew(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=K.comparator(e.documentKey,t.documentKey),n!==0?n:ce(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,n=null,s=[],r=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.P=null}}function rc(e,t=null,n=[],s=[],r=null,i=null,o=null){return new tw(e,t,n,s,r,i,o)}function xa(e){const t=fe(e);if(t.P===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>{return(r=s).field.canonicalString()+r.op.toString()+xn(r.value);var r}).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Gs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>xn(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>xn(s)).join(",")),t.P=n}return t.P}function nw(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${xn(s.value)}`;var s}).join(", ")}]`),Gs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(n=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(n)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>xn(n)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>xn(n)).join(",")),`Target(${t})`}function Na(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!uw(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(n=e.filters[r],s=t.filters[r],n.op!==s.op||!n.field.isEqual(s.field)||!bt(n.value,s.value))return!1;var n,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!oc(e.startAt,t.startAt)&&oc(e.endAt,t.endAt)}class Qe extends class{}{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.V(t,n,s):new sw(t,n,s):n==="array-contains"?new ow(t,s):n==="in"?new aw(t,s):n==="not-in"?new lw(t,s):n==="array-contains-any"?new cw(t,s):new Qe(t,n,s)}static V(t,n,s){return n==="in"?new rw(t,s):new iw(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.v(Un(n,this.value)):n!==null&&Bn(this.value)===Bn(n)&&this.v(Un(n,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ee()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sw extends Qe{constructor(t,n,s){super(t,n,s),this.key=K.fromName(s.referenceValue)}matches(t){const n=K.comparator(t.key,this.key);return this.v(n)}}class rw extends Qe{constructor(t,n){super(t,"in",n),this.keys=Zh("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class iw extends Qe{constructor(t,n){super(t,"not-in",n),this.keys=Zh("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Zh(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>K.fromName(s.referenceValue))}class ow extends Qe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ra(n)&&Ds(n.arrayValue,this.value)}}class aw extends Qe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ds(this.value.arrayValue,n)}}class lw extends Qe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ds(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ds(this.value.arrayValue,n)}}class cw extends Qe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ra(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ds(this.value.arrayValue,s))}}class kr{constructor(t,n){this.position=t,this.inclusive=n}}class ds{constructor(t,n="asc"){this.field=t,this.dir=n}}function uw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ic(e,t,n){let s=0;for(let r=0;r<e.position.length;r++){const i=t[r],o=e.position[r];if(i.field.isKeyField()?s=K.comparator(K.fromName(o.referenceValue),n.key):s=Un(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function oc(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!bt(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,n=null,s=[],r=[],i=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.D=null,this.C=null,this.startAt,this.endAt}}function hw(e,t,n,s,r,i,o,a){return new di(e,t,n,s,r,i,o,a)}function fw(e){return new di(e)}function dw(e){return!Gs(e.limit)&&e.limitType==="F"}function pw(e){return!Gs(e.limit)&&e.limitType==="L"}function gw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function mw(e){for(const t of e.filters)if(t.S())return t.field;return null}function yw(e){return e.collectionGroup!==null}function Os(e){const t=fe(e);if(t.D===null){t.D=[];const n=mw(t),s=gw(t);if(n!==null&&s===null)n.isKeyField()||t.D.push(new ds(n)),t.D.push(new ds(Ye.keyField(),"asc"));else{let r=!1;for(const i of t.explicitOrderBy)t.D.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new ds(Ye.keyField(),i))}}}return t.D}function Mr(e){const t=fe(e);if(!t.C)if(t.limitType==="F")t.C=rc(t.path,t.collectionGroup,Os(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const i of Os(t)){const o=i.dir==="desc"?"asc":"desc";n.push(new ds(i.field,o))}const s=t.endAt?new kr(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new kr(t.startAt.position,!t.startAt.inclusive):null;t.C=rc(t.path,t.collectionGroup,n,t.filters,t.limit,s,r)}return t.C}function vw(e,t,n){return new di(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ef(e,t){return Na(Mr(e),Mr(t))&&e.limitType===t.limitType}function tf(e){return`${xa(Mr(e))}|lt:${e.limitType}`}function ac(e){return`Query(target=${nw(Mr(e))}; limitType=${e.limitType})`}function nf(e,t){return t.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):K.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(e,t)&&function(n,s){for(const r of n.explicitOrderBy)if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=ic(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,Os(n),s)||n.endAt&&!function(r,i,o){const a=ic(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,Os(n),s))}(e,t)}function ww(e){return(t,n)=>{let s=!1;for(const r of Os(e)){const i=Ew(r,t,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function Ew(e,t,n){const s=e.field.isKeyField()?K.comparator(t.key,n.key):function(r,i,o){const a=i.data.field(r),l=o.data.field(r);return a!==null&&l!==null?Un(a,l):ee()}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pr(t)?"-0":t}}function rf(e){return{integerValue:""+e}}function bw(e,t){return Yv(t)?rf(t):sf(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this._=void 0}}function _w(e,t,n){return e instanceof Lr?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,t):e instanceof Ps?af(e,t):e instanceof ks?lf(e,t):function(s,r){const i=of(s,r),o=lc(i)+lc(s.k);return Ro(i)&&Ro(s.k)?rf(o):sf(s.M,o)}(e,t)}function Tw(e,t,n){return e instanceof Ps?af(e,t):e instanceof ks?lf(e,t):n}function of(e,t){return e instanceof Fr?Ro(n=t)||function(s){return!!s&&"doubleValue"in s}(n)?t:{integerValue:0}:null;var n}class Lr extends pi{}class Ps extends pi{constructor(t){super(),this.elements=t}}function af(e,t){const n=cf(t);for(const s of e.elements)n.some(r=>bt(r,s))||n.push(s);return{arrayValue:{values:n}}}class ks extends pi{constructor(t){super(),this.elements=t}}function lf(e,t){let n=cf(t);for(const s of e.elements)n=n.filter(r=>!bt(r,s));return{arrayValue:{values:n}}}class Fr extends pi{constructor(t,n){super(),this.M=t,this.k=n}}function lc(e){return Re(e.integerValue||e.doubleValue)}function cf(e){return Ra(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Aw(e,t){return e.field.isEqual(t.field)&&function(n,s){return n instanceof Ps&&s instanceof Ps||n instanceof ks&&s instanceof ks?Fn(n.elements,s.elements,bt):n instanceof Fr&&s instanceof Fr?bt(n.k,s.k):n instanceof Lr&&s instanceof Lr}(e.transform,t.transform)}class Cw{constructor(t,n){this.version=t,this.transformResults=n}}class Nn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Nn}static exists(t){return new Nn(void 0,t)}static updateTime(t){return new Nn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function dr(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class gi{}function Iw(e,t,n){e instanceof mi?function(s,r,i){const o=s.value.clone(),a=hc(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Ws?function(s,r,i){if(!dr(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=hc(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(uf(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(e,t,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,n)}function xo(e,t,n){e instanceof mi?function(s,r,i){if(!dr(s.precondition,r))return;const o=s.value.clone(),a=fc(s.fieldTransforms,i,r);o.setAll(a),r.convertToFoundDocument(uc(r),o).setHasLocalMutations()}(e,t,n):e instanceof Ws?function(s,r,i){if(!dr(s.precondition,r))return;const o=fc(s.fieldTransforms,i,r),a=r.data;a.setAll(uf(s)),a.setAll(o),r.convertToFoundDocument(uc(r),a).setHasLocalMutations()}(e,t,n):function(s,r){dr(s.precondition,r)&&r.convertToNoDocument(Ee.min())}(e,t)}function Sw(e,t){let n=null;for(const s of e.fieldTransforms){const r=t.data.field(s.field),i=of(s.transform,r||null);i!=null&&(n==null&&(n=wt.empty()),n.set(s.field,i))}return n||null}function cc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Fn(n,s,(r,i)=>Aw(r,i))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function uc(e){return e.isFoundDocument()?e.version:Ee.min()}class mi extends gi{constructor(t,n,s,r=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}}class Ws extends gi{constructor(t,n,s,r,i=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}}function uf(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function hc(e,t,n){const s=new Map;Ce(e.length===n.length);for(let r=0;r<n.length;r++){const i=e[r],o=i.transform,a=t.data.field(i.field);s.set(i.field,Tw(o,a,n[r]))}return s}function fc(e,t,n){const s=new Map;for(const r of e){const i=r.transform,o=n.data.field(r.field);s.set(r.field,_w(i,o,t))}return s}class Rw extends gi{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class xw extends gi{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Q;function Nw(e){switch(e){default:return ee();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function Dw(e){if(e===void 0)return hn("GRPC error has no .code"),T.UNKNOWN;switch(e){case ve.OK:return T.OK;case ve.CANCELLED:return T.CANCELLED;case ve.UNKNOWN:return T.UNKNOWN;case ve.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case ve.INTERNAL:return T.INTERNAL;case ve.UNAVAILABLE:return T.UNAVAILABLE;case ve.UNAUTHENTICATED:return T.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case ve.NOT_FOUND:return T.NOT_FOUND;case ve.ALREADY_EXISTS:return T.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return T.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case ve.ABORTED:return T.ABORTED;case ve.OUT_OF_RANGE:return T.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return T.UNIMPLEMENTED;case ve.DATA_LOSS:return T.DATA_LOSS;default:return ee()}}(Q=ve||(ve={}))[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),r=this.inner[s];if(r===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(t){zs(this.inner,(n,s)=>{for(const[r,i]of s)t(r,i)})}isEmpty(){return Qh(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t,n){this.comparator=t,this.root=n||xe.EMPTY}insert(t,n){return new rt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xe.BLACK,null,null))}remove(t){return new rt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(t,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ar(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ar(this.root,t,this.comparator,!1)}getReverseIterator(){return new ar(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ar(this.root,t,this.comparator,!0)}}class ar{constructor(t,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?s(t.key,n):1,n&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xe{constructor(t,n,s,r,i){this.key=t,this.value=n,this.color=s!=null?s:xe.RED,this.left=r!=null?r:xe.EMPTY,this.right=i!=null?i:xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,r,i){return new xe(t!=null?t:this.key,n!=null?n:this.value,s!=null?s:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let r=this;const i=s(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return xe.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const t=this.left.check();if(t!==this.right.check())throw ee();return t+(this.isRed()?0:1)}}xe.EMPTY=null,xe.RED=!0,xe.BLACK=!1;xe.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,t,n,s,r){return this}insert(e,t,n){return new xe(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.comparator=t,this.data=new rt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new dc(this.data.getIterator())}getIteratorFrom(t){return new dc(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof tt)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new tt(this.comparator);return n.data=t,n}}class dc{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new rt(K.comparator);function pc(){return Ow}const Pw=new rt(K.comparator);function gc(){return Pw}function ji(){return new Yn(e=>e.toString(),(e,t)=>e.isEqual(t))}const kw=new rt(K.comparator),Mw=new tt(K.comparator);function dn(...e){let t=Mw;for(const n of e)t=t.add(n);return t}const Lw=new tt(ce);function Fw(){return Lw}class Bw{constructor(t,n){this.databaseId=t,this.N=n}}function No(e,t){return e.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Uw(e,t){return e.N?t.toBase64():t.toUint8Array()}function Vw(e,t){return No(e,t.toTimestamp())}function Dn(e){return Ce(!!e),Ee.fromTimestamp(function(t){const n=fn(t);return new ze(n.seconds,n.nanos)}(e))}function hf(e,t){return function(n){return new ye(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function $w(e){const t=ye.fromString(e);return Ce(Qw(t)),t}function Do(e,t){return hf(e.databaseId,t.path)}function jw(e){const t=$w(e);return t.length===4?ye.emptyPath():Kw(t)}function Hw(e){return new ye(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Kw(e){return Ce(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function mc(e,t,n){return{name:Do(e,t),fields:n.value.mapValue.fields}}function qw(e,t){let n;if(t instanceof mi)n={update:mc(e,t.key,t.value)};else if(t instanceof Rw)n={delete:Do(e,t.key)};else if(t instanceof Ws)n={update:mc(e,t.key,t.data),updateMask:Yw(t.fieldMask)};else{if(!(t instanceof xw))return ee();n={verify:Do(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof Lr)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ps)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ks)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Fr)return{fieldPath:i.field.canonicalString(),increment:o.k};throw ee()}(0,s))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:Vw(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ee()}(e,t.precondition)),n}function zw(e,t){return e&&e.length>0?(Ce(t!==void 0),e.map(n=>function(s,r){let i=s.updateTime?Dn(s.updateTime):Dn(r);return i.isEqual(Ee.min())&&(i=Dn(r)),new Cw(i,s.transformResults||[])}(n,t))):[]}function Gw(e){let t=jw(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ce(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let i=[];n.where&&(i=ff(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(f){return new ds(Cn(f.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(u)));let a=null;n.limit&&(a=function(u){let f;return f=typeof u=="object"?u.value:u,Gs(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(u){const f=!!u.before,d=u.values||[];return new kr(d,f)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const f=!u.before,d=u.values||[];return new kr(d,f)}(n.endAt)),hw(t,r,o,i,a,"F",l,c)}function ff(e){return e?e.unaryFilter!==void 0?[Xw(e)]:e.fieldFilter!==void 0?[Ww(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(t=>ff(t)).reduce((t,n)=>t.concat(n)):ee():[]}function Cn(e){return Ye.fromServerFormat(e.fieldPath)}function Ww(e){return Qe.create(Cn(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(e.fieldFilter.op),e.fieldFilter.value)}function Xw(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Cn(e.unaryFilter.field);return Qe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Cn(e.unaryFilter.field);return Qe.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Cn(e.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Cn(e.unaryFilter.field);return Qe.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}function Yw(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Qw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new I((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):I.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):I.reject(n)}static resolve(t){return new I((n,s)=>{n(t)})}static reject(t){return new I((n,s)=>{s(t)})}static waitFor(t){return new I((n,s)=>{let r=0,i=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},l=>s(l))}),o=!0,i===r&&n()})}static or(t){let n=I.resolve(!1);for(const s of t)n=n.next(r=>r?I.resolve(r):s());return n}static forEach(t,n){const s=[];return t.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}}function yi(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(t,n,s,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(t.key)&&Iw(i,t,s[r])}}applyToLocalView(t){for(const n of this.baseMutations)n.key.isEqual(t.key)&&xo(n,t,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(t.key)&&xo(n,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(n=>{const s=t.get(n.key),r=s;this.applyToLocalView(r),s.isValidDocument()||r.convertToNoDocument(Ee.min())})}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),dn())}isEqual(t){return this.batchId===t.batchId&&Fn(this.mutations,t.mutations,(n,s)=>cc(n,s))&&Fn(this.baseMutations,t.baseMutations,(n,s)=>cc(n,s))}}class Da{constructor(t,n,s,r){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(t,n,s){Ce(t.mutations.length===s.length);let r=kw;const i=t.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Da(t,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t){this.Jt=t}}function sE(e){const t=Gw({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?vw(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.qe=new iE}addToCollectionParentIndex(t,n){return this.qe.add(n),I.resolve()}getCollectionParents(t,n){return I.resolve(this.qe.getEntries(n))}addFieldIndex(t,n){return I.resolve()}deleteFieldIndex(t,n){return I.resolve()}getDocumentsMatchingTarget(t,n){return I.resolve(null)}getFieldIndex(t,n){return I.resolve(null)}getFieldIndexes(t,n){return I.resolve([])}getNextCollectionGroupToUpdate(t){return I.resolve(null)}updateCollectionGroup(t,n,s){return I.resolve()}updateIndexEntries(t,n){return I.resolve()}}class iE{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),r=this.index[n]||new tt(ye.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(t){const n=t.lastSegment(),s=t.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(t){return(this.index[t]||new tt(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.mn=t}next(){return this.mn+=2,this.mn}static gn(){return new $n(0)}static yn(){return new $n(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(e){if(e.code!==T.FAILED_PRECONDITION||e.message!==Jw)throw e;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.changes=new Yn(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ut.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?I.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t,n,s){this.ds=t,this.Bs=n,this.indexManager=s}Ls(t,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(t,n).next(s=>this.Us(t,n,s))}Us(t,n,s){return this.ds.getEntry(t,n).next(r=>{for(const i of s)i.applyToLocalView(r);return r})}qs(t,n){t.forEach((s,r)=>{for(const i of n)i.applyToLocalView(r)})}Ks(t,n){return this.ds.getEntries(t,n).next(s=>this.Gs(t,s).next(()=>s))}Gs(t,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>this.qs(n,s))}Qs(t,n,s){return function(r){return K.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.js(t,n.path):yw(n)?this.Ws(t,n,s):this.zs(t,n,s)}js(t,n){return this.Ls(t,new K(n)).next(s=>{let r=gc();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}Ws(t,n,s){const r=n.collectionGroup;let i=gc();return this.indexManager.getCollectionParents(t,r).next(o=>I.forEach(o,a=>{const l=function(c,u){return new di(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.zs(t,l,s).next(c=>{c.forEach((u,f)=>{i=i.insert(u,f)})})}).next(()=>i))}zs(t,n,s){let r;return this.ds.getAllFromCollection(t,n.path,s).next(i=>(r=i,this.Bs.getAllMutationBatchesAffectingQuery(t,n))).next(i=>{for(const o of i)for(const a of o.mutations){const l=a.key;let c=r.get(l);c==null&&(c=ut.newInvalidDocument(l),r=r.insert(l,c)),xo(a,c,o.localWriteTime),c.isFoundDocument()||(r=r.remove(l))}}).next(()=>(r.forEach((i,o)=>{nf(n,o)||(r=r.remove(i))}),r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,n,s,r){this.targetId=t,this.fromCache=n,this.Hs=s,this.Js=r}static Ys(t,n){let s=dn(),r=dn();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Oa(t,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{Xs(t){this.Zs=t}Qs(t,n,s,r){return function(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}(n)||s.isEqual(Ee.min())?this.ti(t,n):this.Zs.Ks(t,r).next(i=>{const o=this.ei(n,i);return(dw(n)||pw(n))&&this.ni(n.limitType,o,r,s)?this.ti(t,n):(ec()<=ne.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ac(n)),this.Zs.Qs(t,n,Jv(s,-1)).next(a=>(o.forEach(l=>{a=a.insert(l.key,l)}),a)))})}ei(t,n){let s=new tt(ww(t));return n.forEach((r,i)=>{nf(t,i)&&(s=s.add(i))}),s}ni(t,n,s,r){if(s.size!==n.size)return!0;const i=t==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ti(t,n){return ec()<=ne.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",ac(n)),this.Zs.Qs(t,n,Vn.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(t,n,s,r){this.persistence=t,this.si=n,this.M=r,this.ii=new rt(ce),this.ri=new Yn(i=>xa(i),Na),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(s)}ai(t){this.indexManager=this.persistence.getIndexManager(t),this.Bs=this.persistence.getMutationQueue(t,this.indexManager),this.ci=new aE(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ii))}}function uE(e,t,n,s){return new cE(e,t,n,s)}async function pf(e,t){const n=fe(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.Bs.getAllMutationBatches(s).next(i=>(r=i,n.ai(t),n.Bs.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let l=dn();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.ci.Ks(s,l).next(c=>({hi:c,removedBatchIds:o,addedBatchIds:a}))})})}function hE(e,t){const n=fe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,f=u.keys();let d=I.resolve();return f.forEach(m=>{d=d.next(()=>c.getEntry(a,m)).next(v=>{const R=l.docVersions.get(m);Ce(R!==null),v.version.compareTo(R)<0&&(u.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),c.addEntry(v)))})}),d.next(()=>o.Bs.removeMutationBatch(a,u))}(n,s,t,i).next(()=>i.apply(s)).next(()=>n.Bs.performConsistencyCheck(s)).next(()=>n.ci.Ks(s,r))})}function fE(e){const t=fe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.fs.getLastRemoteSnapshotVersion(n))}function dE(e,t){const n=fe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(s,t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t){this.M=t,this.wi=new Map,this.mi=new Map}getBundleMetadata(t,n){return I.resolve(this.wi.get(n))}saveBundleMetadata(t,n){var s;return this.wi.set(n.id,{id:(s=n).id,version:s.version,createTime:Dn(s.createTime)}),I.resolve()}getNamedQuery(t,n){return I.resolve(this.mi.get(n))}saveNamedQuery(t,n){return this.mi.set(n.name,function(s){return{name:s.name,query:sE(s.bundledQuery),readTime:Dn(s.readTime)}}(n)),I.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.overlays=new rt(K.comparator),this.gi=new Map}getOverlay(t,n){return I.resolve(this.overlays.get(n))}saveOverlays(t,n,s){return s.forEach((r,i)=>{this.Xt(t,n,i)}),I.resolve()}removeOverlaysForBatchId(t,n,s){const r=this.gi.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.gi.delete(s)),I.resolve()}getOverlaysForCollection(t,n,s){const r=ji(),i=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>s&&r.set(l.getKey(),l)}return I.resolve(r)}getOverlaysForCollectionGroup(t,n,s,r){let i=new rt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=i.get(c.largestBatchId);u===null&&(u=ji(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ji(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return I.resolve(a)}Xt(t,n,s){if(s===null)return;const r=this.overlays.get(s.key);if(r!==null){const o=this.gi.get(r.largestBatchId).delete(s.key);this.gi.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new tE(n,s));let i=this.gi.get(n);i===void 0&&(i=dn(),this.gi.set(n,i)),this.gi.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.yi=new tt(Ie.pi),this.Ii=new tt(Ie.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(t,n){const s=new Ie(t,n);this.yi=this.yi.add(s),this.Ii=this.Ii.add(s)}Ei(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Ai(new Ie(t,n))}Ri(t,n){t.forEach(s=>this.removeReference(s,n))}Pi(t){const n=new K(new ye([])),s=new Ie(n,t),r=new Ie(n,t+1),i=[];return this.Ii.forEachInRange([s,r],o=>{this.Ai(o),i.push(o.key)}),i}bi(){this.yi.forEach(t=>this.Ai(t))}Ai(t){this.yi=this.yi.delete(t),this.Ii=this.Ii.delete(t)}Vi(t){const n=new K(new ye([])),s=new Ie(n,t),r=new Ie(n,t+1);let i=dn();return this.Ii.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new Ie(t,0),s=this.yi.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ie{constructor(t,n){this.key=t,this.vi=n}static pi(t,n){return K.comparator(t.key,n.key)||ce(t.vi,n.vi)}static Ti(t,n){return ce(t.vi,n.vi)||K.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new tt(Ie.pi)}checkEmpty(t){return I.resolve(this.Bs.length===0)}addMutationBatch(t,n,s,r){const i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const o=new eE(i,n,s,r);this.Bs.push(o);for(const a of r)this.Di=this.Di.add(new Ie(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(t,n){return I.resolve(this.Ci(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,r=this.xi(s),i=r<0?0:r;return I.resolve(this.Bs.length>i?this.Bs[i]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.Bs.length===0?-1:this.Si-1)}getAllMutationBatches(t){return I.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ie(n,0),r=new Ie(n,Number.POSITIVE_INFINITY),i=[];return this.Di.forEachInRange([s,r],o=>{const a=this.Ci(o.vi);i.push(a)}),I.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new tt(ce);return n.forEach(r=>{const i=new Ie(r,0),o=new Ie(r,Number.POSITIVE_INFINITY);this.Di.forEachInRange([i,o],a=>{s=s.add(a.vi)})}),I.resolve(this.Ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,r=s.length+1;let i=s;K.isDocumentKey(i)||(i=i.child(""));const o=new Ie(new K(i),0);let a=new tt(ce);return this.Di.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.vi)),!0)},o),I.resolve(this.Ni(a))}Ni(t){const n=[];return t.forEach(s=>{const r=this.Ci(s);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Ce(this.ki(n.batchId,"removed")===0),this.Bs.shift();let s=this.Di;return I.forEach(n.mutations,r=>{const i=new Ie(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Di=s})}_n(t){}containsKey(t,n){const s=new Ie(n,0),r=this.Di.firstAfterOrEqual(s);return I.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.Bs.length,I.resolve()}ki(t,n){return this.xi(t)}xi(t){return this.Bs.length===0?0:t-this.Bs[0].batchId}Ci(t){const n=this.xi(t);return n<0||n>=this.Bs.length?null:this.Bs[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t){this.Mi=t,this.docs=new rt(K.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Mi(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return I.resolve(s?s.document.mutableCopy():ut.newInvalidDocument(n))}getEntries(t,n){let s=pc();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():ut.newInvalidDocument(r))}),I.resolve(s)}getAllFromCollection(t,n,s){let r=pc();const i=new K(n.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||ew(Zv(l),s)<=0||(r=r.insert(l.key,l.mutableCopy()))}return I.resolve(r)}getAllFromCollectionGroup(t,n,s,r){ee()}Oi(t,n){return I.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new vE(this)}getSize(t){return I.resolve(this.size)}}class vE extends oE{constructor(t){super(),this.Kn=t}applyChanges(t){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Kn.addEntry(t,r)):this.Kn.removeEntry(s)}),I.waitFor(n)}getFromCache(t,n){return this.Kn.getEntry(t,n)}getAllFromCache(t,n){return this.Kn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t){this.persistence=t,this.Fi=new Yn(n=>xa(n),Na),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Pa,this.targetCount=0,this.Li=$n.gn()}forEachTarget(t,n){return this.Fi.forEach((s,r)=>n(r)),I.resolve()}getLastRemoteSnapshotVersion(t){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return I.resolve(this.$i)}allocateTargetId(t){return this.highestTargetId=this.Li.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$i&&(this.$i=n),I.resolve()}Tn(t){this.Fi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Li=new $n(n),this.highestTargetId=n),t.sequenceNumber>this.$i&&(this.$i=t.sequenceNumber)}addTargetData(t,n){return this.Tn(n),this.targetCount+=1,I.resolve()}updateTargetData(t,n){return this.Tn(n),I.resolve()}removeTargetData(t,n){return this.Fi.delete(n.target),this.Bi.Pi(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(t,n,s){let r=0;const i=[];return this.Fi.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.Fi.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),I.waitFor(i).next(()=>r)}getTargetCount(t){return I.resolve(this.targetCount)}getTargetData(t,n){const s=this.Fi.get(n)||null;return I.resolve(s)}addMatchingKeys(t,n,s){return this.Bi.Ei(n,s),I.resolve()}removeMatchingKeys(t,n,s){this.Bi.Ri(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(t,o))}),I.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Bi.Pi(n),I.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Bi.Vi(n);return I.resolve(s)}containsKey(t,n){return I.resolve(this.Bi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,n){this.Ui={},this.overlays={},this.es=new Xh(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new wE(this),this.indexManager=new rE,this.ds=function(s){return new yE(s)}(s=>this.referenceDelegate.qi(s)),this.M=new nE(n),this._s=new pE(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new gE,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Ui[t.toKey()];return s||(s=new mE(n,this.referenceDelegate),this.Ui[t.toKey()]=s),s}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(t,n,s){U("MemoryPersistence","Starting transaction:",t);const r=new bE(this.es.next());return this.referenceDelegate.Ki(),s(r).next(i=>this.referenceDelegate.Gi(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Qi(t,n){return I.or(Object.values(this.Ui).map(s=>()=>s.containsKey(t,n)))}}class bE extends Zw{constructor(t){super(),this.currentSequenceNumber=t}}class ka{constructor(t){this.persistence=t,this.ji=new Pa,this.Wi=null}static zi(t){return new ka(t)}get Hi(){if(this.Wi)return this.Wi;throw ee()}addReference(t,n,s){return this.ji.addReference(s,n),this.Hi.delete(s.toString()),I.resolve()}removeReference(t,n,s){return this.ji.removeReference(s,n),this.Hi.add(s.toString()),I.resolve()}markPotentiallyOrphaned(t,n){return this.Hi.add(n.toString()),I.resolve()}removeTarget(t,n){this.ji.Pi(n.targetId).forEach(r=>this.Hi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(i=>this.Hi.add(i.toString()))}).next(()=>s.removeTargetData(t,n))}Ki(){this.Wi=new Set}Gi(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Hi,s=>{const r=K.fromPath(s);return this.Ji(t,r).next(i=>{i||n.removeEntry(r,Ee.min())})}).next(()=>(this.Wi=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ji(t,n).next(s=>{s?this.Hi.delete(n.toString()):this.Hi.add(n.toString())})}qi(t){return 0}Ji(t,n){return I.or([()=>I.resolve(this.ji.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Qi(t,n)])}}class yc{constructor(){this.activeTargetIds=Fw()}Zi(t){this.activeTargetIds=this.activeTargetIds.add(t)}tr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _E{constructor(){this.$r=new yc,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t){return this.$r.Zi(t),this.Br[t]||"not-current"}updateQueryState(t,n,s){this.Br[t]=n}removeLocalQueryTarget(t){this.$r.tr(t)}isLocalQueryTarget(t){return this.$r.activeTargetIds.has(t)}clearQueryState(t){delete this.Br[t]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(t){return this.$r.activeTargetIds.has(t)}start(){return this.$r=new yc,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{Lr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(t){this.Qr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Qr)t(0)}Gr(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Qr)t(1)}static vt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t){this.Wr=t.Wr,this.zr=t.zr}Hr(t){this.Jr=t}Yr(t){this.Xr=t}onMessage(t){this.Zr=t}close(){this.zr()}send(t){this.Wr(t)}eo(){this.Jr()}no(t){this.Xr(t)}so(t){this.Zr(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(t,n,s,r,i){const o=this.uo(t,n);U("RestConnection","Sending: ",o,s);const a={};return this.ao(a,r,i),this.co(t,o,a,s).then(l=>(U("RestConnection","Received: ",l),l),l=>{throw tc("RestConnection",`${t} failed with error: `,l,"url: ",o,"request:",s),l})}ho(t,n,s,r,i){return this.oo(t,n,s,r,i)}ao(t,n,s){t["X-Goog-Api-Client"]="gl-js/ fire/"+Xn,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>t[i]=r),s&&s.headers.forEach((r,i)=>t[i]=r)}uo(t,n){const s=AE[t];return`${this.io}/v1/${n}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,n,s,r){return new Promise((i,o)=>{const a=new Fv;a.listenOnce(kv.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case $i.NO_ERROR:const c=a.getResponseJson();U("Connection","XHR received:",JSON.stringify(c)),i(c);break;case $i.TIMEOUT:U("Connection",'RPC "'+t+'" timed out'),o(new j(T.DEADLINE_EXCEEDED,"Request time out"));break;case $i.HTTP_ERROR:const u=a.getStatus();if(U("Connection",'RPC "'+t+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const f=a.getResponseJson().error;if(f&&f.status&&f.message){const d=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(v)>=0?v:T.UNKNOWN}(f.status);o(new j(d,f.message))}else o(new j(T.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new j(T.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{U("Connection",'RPC "'+t+'" completed.')}});const l=JSON.stringify(r);a.send(n,"POST",l,s,15)})}lo(t,n,s){const r=[this.io,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=Ov(),o=Pv(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Lv({})),this.ao(a.initMessageHeaders,n,s),bm()||Tm()||Am()||Cm()||Im()||_m()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=r.join("");U("Connection","Creating WebChannel: "+l,a);const c=i.createWebChannel(l,a);let u=!1,f=!1;const d=new CE({Wr:v=>{f?U("Connection","Not sending because WebChannel is closed:",v):(u||(U("Connection","Opening WebChannel transport."),c.open(),u=!0),U("Connection","WebChannel sending:",v),c.send(v))},zr:()=>c.close()}),m=(v,R,N)=>{v.listen(R,O=>{try{N(O)}catch(B){setTimeout(()=>{throw B},0)}})};return m(c,or.EventType.OPEN,()=>{f||U("Connection","WebChannel transport opened.")}),m(c,or.EventType.CLOSE,()=>{f||(f=!0,U("Connection","WebChannel transport closed"),d.no())}),m(c,or.EventType.ERROR,v=>{f||(f=!0,tc("Connection","WebChannel transport errored:",v),d.no(new j(T.UNAVAILABLE,"The operation could not be completed")))}),m(c,or.EventType.MESSAGE,v=>{var R;if(!f){const N=v.data[0];Ce(!!N);const O=N,B=O.error||((R=O[0])===null||R===void 0?void 0:R.error);if(B){U("Connection","WebChannel received error:",B);const Y=B.status;let W=function(_e){const X=ve[_e];if(X!==void 0)return Dw(X)}(Y),de=B.message;W===void 0&&(W=T.INTERNAL,de="Unknown error status: "+Y+" with message "+B.message),f=!0,d.no(new j(W,de)),c.close()}else U("Connection","WebChannel received:",N),d.so(N)}}),m(o,Mv.STAT_EVENT,v=>{v.stat===Jl.PROXY?U("Connection","Detected buffering proxy"):v.stat===Jl.NOPROXY&&U("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.eo()},0),d}}function Hi(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(e){return new Bw(e,!0)}class gf{constructor(t,n,s=1e3,r=1.5,i=6e4){this.Yn=t,this.timerId=n,this.fo=s,this._o=r,this.wo=i,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(t){this.cancel();const n=Math.floor(this.mo+this.Eo()),s=Math.max(0,Date.now()-this.po),r=Math.max(0,n-s);r>0&&U("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.mo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.po=Date.now(),t())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){this.yo!==null&&(this.yo.skipDelay(),this.yo=null)}cancel(){this.yo!==null&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,n,s,r,i,o,a,l){this.Yn=t,this.Ro=s,this.Po=r,this.bo=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new gf(t,n)}Co(){return this.state===1||this.state===5||this.xo()}xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.No()}async stop(){this.Co()&&await this.close(0)}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&this.vo===null&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(t){this.$o(),this.stream.send(t)}async Oo(){if(this.xo())return this.close(0)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}async close(t,n){this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,t!==4?this.Do.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(hn(n.toString()),hn("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===T.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Yr(n)}Lo(){}auth(){this.state=1;const t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Vo===n&&this.qo(s,r)},s=>{t(()=>{const r=new j(T.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Ko(r)})})}qo(t,n){const s=this.Uo(this.Vo);this.stream=this.Go(t,n),this.stream.Hr(()=>{s(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(r=>{s(()=>this.Ko(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}No(){this.state=5,this.Do.To(async()=>{this.state=0,this.start()})}Ko(t){return U("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return n=>{this.Yn.enqueueAndForget(()=>this.Vo===t?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RE extends SE{constructor(t,n,s,r,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.M=i,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(t,n){return this.bo.lo("Write",t,n)}onMessage(t){if(Ce(!!t.streamToken),this.lastStreamToken=t.streamToken,this.zo){this.Do.reset();const n=zw(t.writeResults,t.commitTime),s=Dn(t.commitTime);return this.listener.Yo(s,n)}return Ce(!t.writeResults||t.writeResults.length===0),this.zo=!0,this.listener.Xo()}Zo(){const t={};t.database=Hw(this.M),this.Fo(t)}Jo(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>qw(this.M,s))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE extends class{}{constructor(t,n,s,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.bo=s,this.M=r,this.tu=!1}eu(){if(this.tu)throw new j(T.FAILED_PRECONDITION,"The client has already been terminated.")}oo(t,n,s){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.bo.oo(t,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new j(T.UNKNOWN,r.toString())})}ho(t,n,s){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.bo.ho(t,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new j(T.UNKNOWN,r.toString())})}terminate(){this.tu=!0}}class NE{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){this.nu===0&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(t){this.state==="Online"?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ou("Offline")))}set(t){this.cu(),this.nu=0,t==="Online"&&(this.iu=!1),this.ou(t)}ou(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}uu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(hn(n),this.iu=!1):U("OnlineStateTracker",n)}cu(){this.su!==null&&(this.su.cancel(),this.su=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,n,s,r,i){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=i,this._u.Lr(o=>{s.enqueueAndForget(async()=>{Ys(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=fe(a);l.fu.add(4),await Xs(l),l.wu.set("Unknown"),l.fu.delete(4),await wi(l)}(this))})}),this.wu=new NE(s,r)}}async function wi(e){if(Ys(e))for(const t of e.du)await t(!0)}async function Xs(e){for(const t of e.du)await t(!1)}function Ys(e){return fe(e).fu.size===0}async function mf(e,t,n){if(!yi(t))throw t;e.fu.add(1),await Xs(e),e.wu.set("Offline"),n||(n=()=>fE(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),e.fu.delete(1),await wi(e)})}function yf(e,t){return t().catch(n=>mf(e,n,t))}async function Ei(e){const t=fe(e),n=Ht(t);let s=t.hu.length>0?t.hu[t.hu.length-1].batchId:-1;for(;OE(t);)try{const r=await dE(t.localStore,s);if(r===null){t.hu.length===0&&n.Mo();break}s=r.batchId,PE(t,r)}catch(r){await mf(t,r)}vf(t)&&wf(t)}function OE(e){return Ys(e)&&e.hu.length<10}function PE(e,t){e.hu.push(t);const n=Ht(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function vf(e){return Ys(e)&&!Ht(e).Co()&&e.hu.length>0}function wf(e){Ht(e).start()}async function kE(e){Ht(e).Zo()}async function ME(e){const t=Ht(e);for(const n of e.hu)t.Jo(n.mutations)}async function LE(e,t,n){const s=e.hu.shift(),r=Da.from(s,t,n);await yf(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Ei(e)}async function FE(e,t){t&&Ht(e).Ho&&await async function(n,s){if(r=s.code,Nw(r)&&r!==T.ABORTED){const i=n.hu.shift();Ht(n).ko(),await yf(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ei(n)}var r}(e,t),vf(e)&&wf(e)}async function wc(e,t){const n=fe(e);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const s=Ys(n);n.fu.add(3),await Xs(n),s&&n.wu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.fu.delete(3),await wi(n)}async function BE(e,t){const n=fe(e);t?(n.fu.delete(2),await wi(n)):t||(n.fu.add(2),await Xs(n),n.wu.set("Unknown"))}function Ht(e){return e.yu||(e.yu=function(t,n,s){const r=fe(t);return r.eu(),new RE(n,r.bo,r.authCredentials,r.appCheckCredentials,r.M,s)}(e.datastore,e.asyncQueue,{Hr:kE.bind(null,e),Yr:FE.bind(null,e),Xo:ME.bind(null,e),Yo:LE.bind(null,e)}),e.du.push(async t=>{t?(e.yu.ko(),await Ei(e)):(await e.yu.stop(),e.hu.length>0&&(U("RemoteStore",`Stopping write stream with ${e.hu.length} pending writes`),e.hu=[]))})),e.yu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,n,s,r,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,s,r,i){const o=Date.now()+s,a=new Ma(t,n,o,r,i);return a.start(s),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(T.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ef(e,t){if(hn("AsyncQueue",`${t}: ${e}`),yi(e))return new j(T.UNAVAILABLE,`${t}: ${e}`);throw e}class UE{constructor(){this.queries=new Yn(t=>tf(t),ef),this.onlineState="Unknown",this.Eu=new Set}}function VE(e){e.Eu.forEach(t=>{t.next()})}class $E{constructor(t,n,s,r,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new Yn(a=>tf(a),ef),this.na=new Map,this.sa=new Set,this.ia=new rt(K.comparator),this.ra=new Map,this.oa=new Pa,this.ua={},this.aa=new Map,this.ca=$n.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return this.ha===!0}}async function jE(e,t,n){const s=zE(e);try{const r=await function(i,o){const a=fe(i),l=ze.now(),c=o.reduce((f,d)=>f.add(d.key),dn());let u;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>a.ci.Ks(f,c).next(d=>{u=d;const m=[];for(const v of o){const R=Sw(v,u.get(v.key));R!=null&&m.push(new Ws(v.key,R,Jh(R.value.mapValue),Nn.exists(!0)))}return a.Bs.addMutationBatch(f,l,m,o)})).then(f=>(f.applyToLocalDocumentSet(u),{batchId:f.batchId,changes:u}))}(s.localStore,t);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let l=i.ua[i.currentUser.toKey()];l||(l=new rt(ce)),l=l.insert(o,a),i.ua[i.currentUser.toKey()]=l}(s,r.batchId,n),await bi(s,r.changes),await Ei(s.remoteStore)}catch(r){const i=Ef(r,"Failed to persist write");n.reject(i)}}function Ec(e,t,n){const s=fe(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.ea.forEach((i,o)=>{const a=o.view.Au(t);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=fe(i);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const f of u.listeners)f.Au(o)&&(l=!0)}),l&&VE(a)}(s.eventManager,t),r.length&&s.ta.Qo(r),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function HE(e,t){const n=fe(e),s=t.batch.batchId;try{const r=await hE(n.localStore,t);_f(n,s,null),bf(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await bi(n,r)}catch(r){await df(r)}}async function KE(e,t,n){const s=fe(e);try{const r=await function(i,o){const a=fe(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.Bs.lookupMutationBatch(l,o).next(u=>(Ce(u!==null),c=u.keys(),a.Bs.removeMutationBatch(l,u))).next(()=>a.Bs.performConsistencyCheck(l)).next(()=>a.ci.Ks(l,c))})}(s.localStore,t);_f(s,t,n),bf(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await bi(s,r)}catch(r){await df(r)}}function bf(e,t){(e.aa.get(t)||[]).forEach(n=>{n.resolve()}),e.aa.delete(t)}function _f(e,t,n){const s=fe(e);let r=s.ua[s.currentUser.toKey()];if(r){const i=r.get(t);i&&(n?i.reject(n):i.resolve(),r=r.remove(t)),s.ua[s.currentUser.toKey()]=r}}async function bi(e,t,n){const s=fe(e),r=[],i=[],o=[];s.ea.isEmpty()||(s.ea.forEach((a,l)=>{o.push(s.la(l,t,n).then(c=>{if(c){s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),r.push(c);const u=Oa.Ys(l.targetId,c);i.push(u)}}))}),await Promise.all(o),s.ta.Qo(r),await async function(a,l){const c=fe(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>I.forEach(l,f=>I.forEach(f.Hs,d=>c.persistence.referenceDelegate.addReference(u,f.targetId,d)).next(()=>I.forEach(f.Js,d=>c.persistence.referenceDelegate.removeReference(u,f.targetId,d)))))}catch(u){if(!yi(u))throw u;U("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const f=u.targetId;if(!u.fromCache){const d=c.ii.get(f),m=d.snapshotVersion,v=d.withLastLimboFreeSnapshotVersion(m);c.ii=c.ii.insert(f,v)}}}(s.localStore,i))}async function qE(e,t){const n=fe(e);if(!n.currentUser.isEqual(t)){U("SyncEngine","User change. New user:",t.toKey());const s=await pf(n.localStore,t);n.currentUser=t,function(r,i){r.aa.forEach(o=>{o.forEach(a=>{a.reject(new j(T.CANCELLED,i))})}),r.aa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await bi(n,s.hi)}}function zE(e){const t=fe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KE.bind(null,t),t}class GE{constructor(){this.synchronizeTabs=!1}async initialize(t){this.M=vi(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),await this.persistence.start(),this.gcScheduler=this.ma(t),this.localStore=this.ga(t)}ma(t){return null}ga(t){return uE(this.persistence,new lE,t.initialUser,this.M)}wa(t){return new EE(ka.zi,this.M)}_a(t){return new _E}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class WE{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ec(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qE.bind(null,this.syncEngine),await BE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new UE}createDatastore(t){const n=vi(t.databaseInfo.databaseId),s=(r=t.databaseInfo,new IE(r));var r;return function(i,o,a,l){return new xE(i,o,a,l)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return n=this.localStore,s=this.datastore,r=t.asyncQueue,i=a=>Ec(this.syncEngine,a,0),o=vc.vt()?new vc:new TE,new DE(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(t,n){return function(s,r,i,o,a,l,c){const u=new $E(s,r,i,o,a,l);return c&&(u.ha=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=fe(t);U("RemoteStore","RemoteStore shutting down."),n.fu.add(5),await Xs(n),n._u.shutdown(),n.wu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,n,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Xe.UNAUTHENTICATED,this.clientId=Yh.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{U("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>(U("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ef(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function YE(e,t){e.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async r=>{s.isEqual(r)||(await pf(t.localStore,r),s=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function QE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await JE(e);U("FirestoreClient","Initializing OnlineComponentProvider");const s=await e.getConfiguration();await t.initialize(n,s),e.setCredentialChangeListener(r=>wc(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>wc(t.remoteStore,i)),e.onlineComponents=t}async function JE(e){return e.offlineComponents||(U("FirestoreClient","Using default OfflineComponentProvider"),await YE(e,new GE)),e.offlineComponents}async function ZE(e){return e.onlineComponents||(U("FirestoreClient","Using default OnlineComponentProvider"),await QE(e,new WE)),e.onlineComponents}function e0(e){return ZE(e).then(t=>t.syncEngine)}const bc=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(e,t,n){if(!n)throw new j(T.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function t0(e,t,n,s){if(t===!0&&s===!0)throw new j(T.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function _c(e){if(!K.isDocumentKey(e))throw new j(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Tc(e){if(K.isDocumentKey(e))throw new j(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function La(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ee()}function n0(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new j(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=La(e);throw new j(T.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new j(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new j(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,t0("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t,n,s){this._authCredentials=n,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ac({}),this._settingsFrozen=!1,t instanceof Ns?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new j(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ns(r.options.projectId)}(t))}get app(){if(!this._app)throw new j(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new j(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ac(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Uv;switch(n.type){case"gapi":const s=n.client;return Ce(!(typeof s!="object"||s===null||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new jv(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new j(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=bc.get(t);n&&(U("ComponentProvider","Removing Datastore"),bc.delete(t),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $t(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new It(this.firestore,t,this._key)}}class Ba{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ba(this.firestore,t,this._query)}}class $t extends Ba{constructor(t,n,s){super(t,n,fw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new It(this.firestore,null,new K(t))}withConverter(t){return new $t(this.firestore,t,this._path)}}function s0(e,t,...n){if(e=Es(e),Tf("collection","path",t),e instanceof Fa){const s=ye.fromString(t,...n);return Tc(s),new $t(e,null,s)}{if(!(e instanceof It||e instanceof $t))throw new j(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ye.fromString(t,...n));return Tc(s),new $t(e.firestore,null,s)}}function r0(e,t,...n){if(e=Es(e),arguments.length===1&&(t=Yh.R()),Tf("doc","path",t),e instanceof Fa){const s=ye.fromString(t,...n);return _c(s),new It(e,null,new K(s))}{if(!(e instanceof It||e instanceof $t))throw new j(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ye.fromString(t,...n));return _c(s),new It(e.firestore,e instanceof $t?e.converter:null,new K(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new gf(this,"async_queue_retry"),this.qa=()=>{const n=Hi();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Do.Ao()};const t=Hi();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ka(),this.Ga(t)}enterRestrictedMode(t){if(!this.Oa){this.Oa=!0,this.La=t||!1;const n=Hi();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qa)}}enqueue(t){if(this.Ka(),this.Oa)return new Promise(()=>{});const n=new rn;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ma.push(t),this.Qa()))}async Qa(){if(this.Ma.length!==0){try{await this.Ma[0](),this.Ma.shift(),this.Do.reset()}catch(t){if(!yi(t))throw t;U("AsyncQueue","Operation failed with retryable error: "+t)}this.Ma.length>0&&this.Do.To(()=>this.Qa())}}Ga(t){const n=this.ka.then(()=>(this.Ba=!0,t().catch(s=>{this.$a=s,this.Ba=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw hn("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Ba=!1,s))));return this.ka=n,n}enqueueAfterDelay(t,n,s){this.Ka(),this.Ua.indexOf(t)>-1&&(n=0);const r=Ma.createAndSchedule(this,t,n,s,i=>this.ja(i));return this.Fa.push(r),r}Ka(){this.$a&&ee()}verifyOperationInProgress(){}async Wa(){let t;do t=this.ka,await t;while(t!==this.ka)}za(t){for(const n of this.Fa)if(n.timerId===t)return!0;return!1}Ha(t){return this.Wa().then(()=>{this.Fa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Fa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Wa()})}Ja(t){this.Ua.push(t)}ja(t){const n=this.Fa.indexOf(t);this.Fa.splice(n,1)}}class Af extends Fa{constructor(t,n,s){super(t,n,s),this.type="firestore",this._queue=new i0,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Cf(this),this._firestoreClient.terminate()}}function o0(e=by()){return my(e,"firestore").getImmediate()}function a0(e){return e._firestoreClient||Cf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Cf(e){var t;const n=e._freezeSettings(),s=function(r,i,o,a){return new Xv(r,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new XE(e._authCredentials,e._appCheckCredentials,e._queue,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new j(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ms(xt.fromBase64String(t))}catch(n){throw new j(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ms(xt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new j(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new j(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ce(this._lat,t._lat)||ce(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=/^__.*__$/;class c0{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ws(t,this.data,this.fieldMask,n,this.fieldTransforms):new mi(t,this.data,n,this.fieldTransforms)}}function xf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class Ua{constructor(t,n,s,r,i,o){this.settings=t,this.databaseId=n,this.M=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Ya(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(t){return new Ua(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Za({path:s,ec:!1});return r.nc(t),r}sc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Za({path:s,ec:!1});return r.Ya(),r}ic(t){return this.Za({path:void 0,ec:!0})}rc(t){return Br(t,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ya(){if(this.path)for(let t=0;t<this.path.length;t++)this.nc(this.path.get(t))}nc(t){if(t.length===0)throw this.rc("Document fields must not be empty");if(xf(this.Xa)&&l0.test(t))throw this.rc('Document fields cannot begin and end with "__"')}}class u0{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=s||vi(t)}ac(t,n,s,r=!1){return new Ua({Xa:t,methodName:n,uc:s,path:Ye.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function h0(e){const t=e._freezeSettings(),n=vi(e._databaseId);return new u0(e._databaseId,!!t.ignoreUndefinedProperties,n)}function f0(e,t,n,s,r,i={}){const o=e.ac(i.merge||i.mergeFields?2:0,t,n,r);Pf("Data must be an object, but it was:",o,s);const a=Df(s,o);let l,c;if(i.merge)l=new Io(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const d=d0(t,f,n);if(!o.contains(d))throw new j(T.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);m0(u,d)||u.push(d)}l=new Io(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new c0(new wt(a),l,c)}function Nf(e,t){if(Of(e=Es(e)))return Pf("Unsupported field value:",t,e),Df(e,t);if(e instanceof Sf)return function(n,s){if(!xf(s.Xa))throw s.rc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.rc(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&t.Xa!==4)throw t.rc("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=Nf(o,s.ic(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(e,t)}return function(n,s){if((n=Es(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return bw(s.M,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=ze.fromDate(n);return{timestampValue:No(s.M,r)}}if(n instanceof ze){const r=new ze(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:No(s.M,r)}}if(n instanceof Rf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ms)return{bytesValue:Uw(s.M,n._byteString)};if(n instanceof It){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s.rc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:hf(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.rc(`Unsupported field value: ${La(n)}`)}(e,t)}function Df(e,t){const n={};return Qh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zs(e,(s,r)=>{const i=Nf(r,t.tc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Of(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ze||e instanceof Rf||e instanceof Ms||e instanceof It||e instanceof Sf)}function Pf(e,t,n){if(!Of(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=La(n);throw s==="an object"?t.rc(e+" a custom object"):t.rc(e+" "+s)}}function d0(e,t,n){if((t=Es(t))instanceof If)return t._internalPath;if(typeof t=="string")return g0(e,t);throw Br("Field path arguments must be of type string or ",e,!1,void 0,n)}const p0=new RegExp("[~\\*/\\[\\]]");function g0(e,t,n){if(t.search(p0)>=0)throw Br(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new If(...t.split("."))._internalPath}catch{throw Br(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Br(e,t,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${s}`),o&&(l+=` in document ${r}`),l+=")"),new j(T.INVALID_ARGUMENT,a+e+l)}function m0(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}function v0(e,t){const n=n0(e.firestore,Af),s=r0(e),r=y0(e.converter,t);return w0(n,[f0(h0(e.firestore),"addDoc",s._key,r,e.converter!==null,{}).toMutation(s._key,Nn.exists(!1))]).then(()=>s)}function w0(e,t){return function(n,s){const r=new rn;return n.asyncQueue.enqueueAndForget(async()=>jE(await e0(n),s,r)),r.promise}(a0(e),t)}(function(e,t=!0){(function(n){Xn=n})(wy),_r(new bs("firestore",(n,{options:s})=>{const r=n.getProvider("app").getImmediate(),i=new Af(r,new Vv(n.getProvider("auth-internal")),new Kv(n.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:t},s),i._setSettings(s),i},"PUBLIC")),Rn(Zl,"3.4.8",e),Rn(Zl,"3.4.8","esm2017")})();var E0="firebase",b0="9.6.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn(E0,b0,"app");const _0={apiKey:"AIzaSyDa_fhL81iuhkpDIxtk-rsOaMoGUJ4eLKI",authDomain:"vue-auth-test-9896f.firebaseapp.com",projectId:"vue-auth-test-9896f",storageBucket:"vue-auth-test-9896f.appspot.com",messagingSenderId:"1010891411797",appId:"1:1010891411797:web:9ba6a304cc87e57179dfdc"},T0=Ey(_0),A0=o0(T0),C0=async e=>{try{const t=await v0(s0(A0,"activities"),e);console.log("Document written with ID: ",t.id)}catch(t){console.error("Error adding document: ",t)}};const Qs=e=>(Ld("data-v-ff1f41fa"),e=e(),Fd(),e),I0={class:"title form-content"},S0=Qs(()=>we("label",{for:"titleForm"},"Title",-1)),R0=["value"],x0={class:"description form-content"},N0=Qs(()=>we("label",{for:"descriptionForm"},"Description",-1)),D0=["value"],O0={class:"date form-content"},P0=Qs(()=>we("label",{for:"dateForm"},"Date",-1)),k0=["value"],M0={class:"time form-content"},L0=Qs(()=>we("label",{for:"fromTimeForm"},"From",-1)),F0=["value"],B0=Qs(()=>we("label",{for:"toTimeForm"},"To",-1)),U0={setup(e){const t=Go({}),n=s=>{s.preventDefault(),C0(t.value),console.table(t.value)};return(s,r)=>(Wr(),Xr("form",null,[we("div",I0,[S0,we("input",{type:"text",id:"titleForm",placeholder:"Necesito acompa\xF1ante",value:t.value.title,onChange:r[0]||(r[0]=i=>t.value.title=i.target.value)},null,40,R0)]),we("div",x0,[N0,we("textarea",{name:"descriptionForm",id:"descriptionForm",rows:"6",placeholder:"Necesito acompa\xF1ante para ir a....",value:t.value.description,onChange:r[1]||(r[1]=i=>t.value.description=i.target.value)},`
      `,40,D0)]),we("div",O0,[P0,we("input",{type:"date",name:"dateForm",id:"dateForm",value:t.value.date,onChange:r[2]||(r[2]=i=>t.value.date=i.target.value)},null,40,k0)]),we("div",M0,[L0,we("input",{type:"time",name:"fromTimeForm",id:"fromTimeForm",value:t.value.from,onChange:r[3]||(r[3]=i=>t.value.from=i.target.value)},null,40,F0),B0,we("input",{type:"time",name:"toTimeForm",id:"toTimeForm",value:"newActivity.to",onChange:r[4]||(r[4]=i=>t.value.to=i.target.value)},null,32)]),we("button",{onClick:n},"Enviar")]))}};var V0=Uu(U0,[["__scopeId","data-v-ff1f41fa"]]);const $0={class:"content"},j0={setup(e){return(t,n)=>(Wr(),Xr("main",null,[we("section",$0,[Ke(V0)])]))}},H0=um({history:Rg("/"),routes:[{path:"/",name:"home",component:j0}]}),Va=ig(mm);Va.use(cg());Va.use(H0);Va.mount("#app");
